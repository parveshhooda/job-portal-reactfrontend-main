{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/parve/Desktop/job portal cod/job-portal-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/parve/Desktop/job portal cod/job-portal-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"C:/Users/parve/Desktop/job portal cod/job-portal-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/parve/Desktop/job portal cod/job-portal-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{AppBar,Toolbar,Typography,makeStyles,Button,IconButton,Drawer,Link,MenuItem,List,ListItem,ListItemIcon,ListItemText,Collapse}from\"@material-ui/core\";import MenuIcon from\"@material-ui/icons/Menu\";import React,{useState,useEffect}from\"react\";import{Link as RouterLink,useHistory}from\"react-router-dom\";import CreateIcon from\"@material-ui/icons/Create\";import TrendingFlatIcon from\"@material-ui/icons/TrendingFlat\";import WorkIcon from\"@material-ui/icons/Work\";import InfoIcon from\"@material-ui/icons/Info\";import PersonIcon from\"@material-ui/icons/Person\";import ClearIcon from\"@material-ui/icons/Clear\";import ViewAgendaIcon from\"@material-ui/icons/ViewAgenda\";import Divider from\"@material-ui/core/Divider\";import{EmojiObjects,ExpandLess,ExpandMore}from\"@material-ui/icons\";import\"./Navbar.css\";import{drawerCollapseable}from\"../../Common/Constants\";import{useAuth}from\"../../contexts/AuthContext\";import{getPrevilegesFromServer}from\"../../Backend/sendRequestToServer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(){return{header:{backgroundColor:\"white\",color:\"black\",padding:\"5px\",// paddingRight: \"79px\",\n// paddingLeft: \"118px\",\n\"@media (max-width: 900px)\":{paddingLeft:0}},menuButton:{fontFamily:\"Roboto\",size:\"18px\",marginLeft:\"38px\"},toolbar:{display:\"flex\",justifyContent:\"flex-end\"},drawerContainer:{padding:\"10px 15px\",width:\"275px\"},closeIcon:{position:\"absolute\",top:0,right:0,paddingRight:\"10px\",paddingTop:\"10px\",color:\"#18D26E\"},menuButtonList:{marginRight:\"auto\",float:\"right\"}};});var GetEmail=function GetEmail(){var _useAuth=useAuth(),currentUser=_useAuth.currentUser;return/*#__PURE__*/_jsxs(\"span\",{children:[\"Welcome,\",\" \",/*#__PURE__*/_jsxs(\"span\",{style:{color:\"#18D26E\"},children:[currentUser?currentUser.userName:\"\",/*#__PURE__*/_jsx(\"p\",{})]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Role: \",/*#__PURE__*/_jsx(\"b\",{children:currentUser?currentUser.role:\"\"})]}),/*#__PURE__*/_jsxs(\"span\",{className:\"mr-3\",children:[\"Email: \",/*#__PURE__*/_jsx(\"b\",{children:currentUser?currentUser.emailId:\"\"})]})]});};export default function Navbar(){var _useStyles=useStyles(),header=_useStyles.header,logo=_useStyles.logo,menuButton=_useStyles.menuButton,toolbar=_useStyles.toolbar,drawerContainer=_useStyles.drawerContainer,closeIcon=_useStyles.closeIcon,menuButtonList=_useStyles.menuButtonList;var _useState=useState({mobileView:false,drawerOpen:false}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var history=useHistory();var _useAuth2=useAuth(),currentUser=_useAuth2.currentUser,logout=_useAuth2.logout;var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),previleges=_useState4[0],setPrevileges=_useState4[1];var publicUrl=process.env.PUBLIC_URL+\"/\";var mobileView=state.mobileView,drawerOpen=state.drawerOpen;useEffect(function(){var setResponsiveness=function setResponsiveness(){return window.innerWidth<900?setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{mobileView:true});}):setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{mobileView:false});});};setResponsiveness();window.addEventListener(\"resize\",function(){return setResponsiveness();});getPrevilegesList();},[]);//Get list of previleges from localstorage or Server\nvar getPrevilegesList=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var prev,res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:prev=JSON.parse(localStorage.getItem(\"previleges\"));if(!(prev===undefined||prev===null)){_context.next=6;break;}_context.next=4;return getPrevilegesFromServer(currentUser.role);case 4:res=_context.sent;//API call to get Previleges\nif(res.status===200){prev=res.previleges;localStorage.setItem(\"previleges\",JSON.stringify(prev));}case 6:// let prevObj = {};\n// prev.forEach((val) => {\n//   prevObj[val] = 1;\n// });\n// let finalPrev = [];\n// for(let previlege of Object.keys(drawerCollapseable)){\n//   if(prevObj[previlege]){\n//     finalPrev.push(previlege);\n//   }\n// }\nsetPrevileges(prev);case 7:case\"end\":return _context.stop();}}},_callee);}));return function getPrevilegesList(){return _ref.apply(this,arguments);};}();//  handle drawer open and close\nvar handleDrawerOpen=function handleDrawerOpen(){return setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{drawerOpen:true});});};var handleDrawerClose=function handleDrawerClose(){return setState(function(prevState){return _objectSpread(_objectSpread({},prevState),{},{drawerOpen:false});});};var drawer=function drawer(){return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(Drawer,{anchor:\"left\",open:drawerOpen,onClose:handleDrawerClose,children:/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2\",children:[/*#__PURE__*/_jsx(\"span\",{className:closeIcon,children:/*#__PURE__*/_jsx(ClearIcon,{onClick:handleDrawerClose})}),/*#__PURE__*/_jsx(\"div\",{className:drawerContainer,children:getNewDrawer()})]})})});};var displayDesktop=function displayDesktop(){return/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(IconButton,{edge:\"start\",color:\"inherit\",\"aria-label\":\"menu\",\"aria-haspopup\":\"true\",onClick:handleDrawerOpen,children:/*#__PURE__*/_jsx(MenuIcon,{})}),drawer(),/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:\"auto\"},children:getMenuButtons()})]});};var displayMobile=function displayMobile(){return/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(IconButton,{edge:\"start\",color:\"inherit\",\"aria-label\":\"menu\",\"aria-haspopup\":\"true\",onClick:handleDrawerOpen,children:/*#__PURE__*/_jsx(MenuIcon,{})}),drawer(),/*#__PURE__*/_jsx(\"div\",{style:{marginLeft:\"auto\"},children:getMenuButtons()})]});};var getNewDrawer=function getNewDrawer(){return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(List,{component:\"nav\",\"aria-labelledby\":\"nested-list-subheader\",children:previleges&&previleges.map(function(previlege,index){{/* console.log(previlege, drawerCollapseable); */}var updatePrev=previlege===\"Add Role\"?\"Assign role and permission\":previlege===\"View Role\"?\"View role and permission\":previlege;if(drawerCollapseable[previlege]){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(ListItem,{button:true,component:RouterLink,to:\"\".concat(drawerCollapseable[previlege]),color:\"inherit\",style:{textDecoration:\"none\",color:\"black\"},children:[/*#__PURE__*/_jsx(ListItemIcon,{children:/*#__PURE__*/_jsx(\"img\",{alt:\"logo\",width:\"30px\",src:publicUrl+\"images/empIcon.png\"})}),/*#__PURE__*/_jsx(ListItemText,{primary:/*#__PURE__*/_jsx(Typography,{style:{fontWeight:\"Bold\"},children:updatePrev})})]},index),/*#__PURE__*/_jsx(Divider,{})]});}return null;})})]});};var getMenuButtons=function getMenuButtons(){return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"li\",{className:\"menu-item-has-children\",children:[/*#__PURE__*/_jsx(PersonIcon,{size:\"large\"}),/*#__PURE__*/_jsxs(\"ul\",{className:\"sub-menu\",children:[/*#__PURE__*/_jsx(\"li\",{children:/*#__PURE__*/_jsx(GetEmail,{})}),/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"secondary\",onClick:function onClick(e){console.log(\"log out user fuction \");logout();history.push(\"/\");},children:\"Log Out\"}),\"\\xA0\",/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"primary\",onClick:function onClick(e){history.push(\"/reset-password\");},children:\"Reset Password\"})]})]})]})});};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(AppBar,{className:header,children:mobileView?displayMobile():displayDesktop()}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-5\"})]});}","map":{"version":3,"sources":["C:/Users/parve/Desktop/job portal cod/job-portal-react-main/src/components/employer/Navbar.jsx"],"names":["AppBar","Toolbar","Typography","makeStyles","Button","IconButton","Drawer","Link","MenuItem","List","ListItem","ListItemIcon","ListItemText","Collapse","MenuIcon","React","useState","useEffect","RouterLink","useHistory","CreateIcon","TrendingFlatIcon","WorkIcon","InfoIcon","PersonIcon","ClearIcon","ViewAgendaIcon","Divider","EmojiObjects","ExpandLess","ExpandMore","drawerCollapseable","useAuth","getPrevilegesFromServer","useStyles","header","backgroundColor","color","padding","paddingLeft","menuButton","fontFamily","size","marginLeft","toolbar","display","justifyContent","drawerContainer","width","closeIcon","position","top","right","paddingRight","paddingTop","menuButtonList","marginRight","float","GetEmail","currentUser","userName","role","emailId","Navbar","logo","mobileView","drawerOpen","state","setState","history","logout","previleges","setPrevileges","publicUrl","process","env","PUBLIC_URL","setResponsiveness","window","innerWidth","prevState","addEventListener","getPrevilegesList","prev","JSON","parse","localStorage","getItem","undefined","res","status","setItem","stringify","handleDrawerOpen","handleDrawerClose","drawer","anchor","open","onClose","getNewDrawer","displayDesktop","edge","onClick","getMenuButtons","displayMobile","map","previlege","index","updatePrev","component","to","style","textDecoration","fontWeight","e","console","log","push"],"mappings":"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","sourcesContent":["import {\r\n  AppBar,\r\n  Toolbar,\r\n  Typography,\r\n  makeStyles,\r\n  Button,\r\n  IconButton,\r\n  Drawer,\r\n  Link,\r\n  MenuItem,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Collapse,\r\n} from \"@material-ui/core\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link as RouterLink, useHistory } from \"react-router-dom\";\r\nimport CreateIcon from \"@material-ui/icons/Create\";\r\nimport TrendingFlatIcon from \"@material-ui/icons/TrendingFlat\";\r\nimport WorkIcon from \"@material-ui/icons/Work\";\r\nimport InfoIcon from \"@material-ui/icons/Info\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport ViewAgendaIcon from \"@material-ui/icons/ViewAgenda\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\n\r\nimport { EmojiObjects, ExpandLess, ExpandMore } from \"@material-ui/icons\";\r\nimport \"./Navbar.css\";\r\nimport { drawerCollapseable } from \"../../Common/Constants\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { getPrevilegesFromServer } from \"../../Backend/sendRequestToServer\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  header: {\r\n    backgroundColor: \"white\",\r\n    color: \"black\",\r\n    padding: \"5px\",\r\n    // paddingRight: \"79px\",\r\n    // paddingLeft: \"118px\",\r\n    \"@media (max-width: 900px)\": {\r\n      paddingLeft: 0,\r\n    },\r\n  },\r\n  menuButton: {\r\n    fontFamily: \"Roboto\",\r\n    size: \"18px\",\r\n    marginLeft: \"38px\",\r\n  },\r\n  toolbar: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  drawerContainer: {\r\n    padding: \"10px 15px\",\r\n    width: \"275px\",\r\n  },\r\n  closeIcon: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    right: 0,\r\n    paddingRight: \"10px\",\r\n    paddingTop: \"10px\",\r\n    color: \"#18D26E\",\r\n  },\r\n  menuButtonList: {\r\n    marginRight: \"auto\",\r\n    float: \"right\",\r\n  },\r\n}));\r\n\r\nconst GetEmail = () => {\r\n  const { currentUser } = useAuth();\r\n\r\n  return (\r\n    <span>\r\n      Welcome,{\" \"}\r\n      <span style={{ color: \"#18D26E\" }}>\r\n        {currentUser ? currentUser.userName : \"\"}\r\n        <p></p>\r\n      </span>\r\n      <p>\r\n        Role: <b>{currentUser ? currentUser.role : \"\"}</b>\r\n      </p>\r\n      <span className=\"mr-3\">\r\n        Email: <b>{currentUser ? currentUser.emailId : \"\"}</b>\r\n      </span>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default function Navbar() {\r\n  const {\r\n    header,\r\n    logo,\r\n    menuButton,\r\n    toolbar,\r\n    drawerContainer,\r\n    closeIcon,\r\n    menuButtonList,\r\n  } = useStyles();\r\n\r\n  const [state, setState] = useState({\r\n    mobileView: false,\r\n    drawerOpen: false,\r\n  });\r\n  const history = useHistory();\r\n  const { currentUser, logout } = useAuth();\r\n\r\n  const [previleges, setPrevileges] = useState([]);\r\n\r\n  let publicUrl = process.env.PUBLIC_URL + \"/\";\r\n\r\n  const { mobileView, drawerOpen } = state;\r\n\r\n  useEffect(() => {\r\n    const setResponsiveness = () => {\r\n      return window.innerWidth < 900\r\n        ? setState((prevState) => ({ ...prevState, mobileView: true }))\r\n        : setState((prevState) => ({ ...prevState, mobileView: false }));\r\n    };\r\n\r\n    setResponsiveness();\r\n\r\n    window.addEventListener(\"resize\", () => setResponsiveness());\r\n\r\n    getPrevilegesList();\r\n  }, []);\r\n\r\n  //Get list of previleges from localstorage or Server\r\n  const getPrevilegesList = async () => {\r\n    let prev = JSON.parse(localStorage.getItem(\"previleges\"));\r\n    if (prev === undefined || prev === null) {\r\n      const res = await getPrevilegesFromServer(currentUser.role); //API call to get Previleges\r\n      if (res.status === 200) {\r\n        prev = res.previleges;\r\n        localStorage.setItem(\"previleges\", JSON.stringify(prev));\r\n      }\r\n    }\r\n    // let prevObj = {};\r\n    // prev.forEach((val) => {\r\n    //   prevObj[val] = 1;\r\n    // });\r\n    // let finalPrev = [];\r\n    // for(let previlege of Object.keys(drawerCollapseable)){\r\n    //   if(prevObj[previlege]){\r\n    //     finalPrev.push(previlege);\r\n    //   }\r\n    // }\r\n    setPrevileges(prev);\r\n  };\r\n\r\n  //  handle drawer open and close\r\n  const handleDrawerOpen = () =>\r\n    setState((prevState) => ({ ...prevState, drawerOpen: true }));\r\n  const handleDrawerClose = () =>\r\n    setState((prevState) => ({ ...prevState, drawerOpen: false }));\r\n\r\n  const drawer = () => {\r\n    return (\r\n      <>\r\n        <Drawer\r\n          {...{\r\n            anchor: \"left\",\r\n            open: drawerOpen,\r\n            onClose: handleDrawerClose,\r\n          }}\r\n        >\r\n          <div className=\"mt-2\">\r\n            <span className={closeIcon}>\r\n              <ClearIcon onClick={handleDrawerClose} />\r\n            </span>\r\n\r\n            <div className={drawerContainer}>{getNewDrawer()}</div>\r\n          </div>\r\n        </Drawer>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const displayDesktop = () => {\r\n    return (\r\n      <Toolbar>\r\n        <IconButton\r\n          {...{\r\n            edge: \"start\",\r\n            color: \"inherit\",\r\n            \"aria-label\": \"menu\",\r\n            \"aria-haspopup\": \"true\",\r\n            onClick: handleDrawerOpen,\r\n          }}\r\n        >\r\n          <MenuIcon />\r\n        </IconButton>\r\n\r\n        {drawer()}\r\n\r\n        <div style={{ marginLeft: \"auto\" }}>{getMenuButtons()}</div>\r\n      </Toolbar>\r\n    );\r\n  };\r\n\r\n  const displayMobile = () => {\r\n    return (\r\n      <Toolbar>\r\n        <IconButton\r\n          {...{\r\n            edge: \"start\",\r\n            color: \"inherit\",\r\n            \"aria-label\": \"menu\",\r\n            \"aria-haspopup\": \"true\",\r\n            onClick: handleDrawerOpen,\r\n          }}\r\n        >\r\n          <MenuIcon />\r\n        </IconButton>\r\n\r\n        {drawer()}\r\n        <div style={{ marginLeft: \"auto\" }}>{getMenuButtons()}</div>\r\n      </Toolbar>\r\n    );\r\n  };\r\n\r\n  const getNewDrawer = () => {\r\n    return (\r\n      <div>\r\n        <br />\r\n        <Divider />\r\n        <List component=\"nav\" aria-labelledby=\"nested-list-subheader\">\r\n          {previleges &&\r\n            previleges.map((previlege, index) => {\r\n              {\r\n                /* console.log(previlege, drawerCollapseable); */\r\n              }\r\n              let updatePrev =\r\n                previlege === \"Add Role\"\r\n                  ? \"Assign role and permission\"\r\n                  : previlege === \"View Role\"\r\n                  ? \"View role and permission\"\r\n                  : previlege;\r\n              if (drawerCollapseable[previlege]) {\r\n                return (\r\n                  <>\r\n                    <ListItem\r\n                      key={index}\r\n                      button\r\n                      {...{\r\n                        component: RouterLink,\r\n                        to: `${drawerCollapseable[previlege]}`,\r\n                        color: \"inherit\",\r\n                        style: {\r\n                          textDecoration: \"none\",\r\n                          color: \"black\",\r\n                        },\r\n                      }}\r\n                    >\r\n                      <ListItemIcon>\r\n                        <img\r\n                          alt=\"logo\"\r\n                          width=\"30px\"\r\n                          src={publicUrl + \"images/empIcon.png\"}\r\n                        />\r\n                      </ListItemIcon>\r\n                      <ListItemText\r\n                        primary={\r\n                          <Typography style={{ fontWeight: \"Bold\" }}>\r\n                            {updatePrev}\r\n                          </Typography>\r\n                        }\r\n                      />\r\n                    </ListItem>\r\n                    <Divider />\r\n                  </>\r\n                );\r\n              }\r\n              return null;\r\n            })}\r\n        </List>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const getMenuButtons = () => {\r\n    return (\r\n      <div>\r\n        <li className=\"menu-item-has-children\">\r\n          <PersonIcon size=\"large\" />\r\n          <ul className=\"sub-menu\">\r\n            <li>\r\n              <GetEmail />\r\n            </li>\r\n            <li>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                onClick={(e) => {\r\n                  console.log(\"log out user fuction \");\r\n                  logout();\r\n                  history.push(\"/\");\r\n                }}\r\n              >\r\n                Log Out\r\n              </Button>\r\n              &nbsp;\r\n              <Button\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                onClick={(e) => {\r\n                  history.push(\"/reset-password\");\r\n                }}\r\n              >\r\n                Reset Password\r\n              </Button>\r\n            </li>\r\n          </ul>\r\n        </li>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <AppBar className={header}>\r\n        {mobileView ? displayMobile() : displayDesktop()}\r\n      </AppBar>\r\n      <div className=\"mt-5\"></div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\parve\\\\Desktop\\\\job portal cod\\\\job-portal-react-main\\\\src\\\\components\\\\employer\\\\Navbar.jsx\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { AppBar, Toolbar, Typography, makeStyles, Button, IconButton, Drawer, Link, MenuItem, List, ListItem, ListItemIcon, ListItemText, Collapse } from \"@material-ui/core\";\nimport MenuIcon from \"@material-ui/icons/Menu\";\nimport React, { useState, useEffect } from \"react\";\nimport { Link as RouterLink, useHistory } from \"react-router-dom\";\nimport CreateIcon from \"@material-ui/icons/Create\";\nimport TrendingFlatIcon from \"@material-ui/icons/TrendingFlat\";\nimport WorkIcon from \"@material-ui/icons/Work\";\nimport InfoIcon from \"@material-ui/icons/Info\";\nimport PersonIcon from \"@material-ui/icons/Person\";\nimport ClearIcon from \"@material-ui/icons/Clear\";\nimport ViewAgendaIcon from \"@material-ui/icons/ViewAgenda\";\nimport Divider from \"@material-ui/core/Divider\";\nimport { EmojiObjects, ExpandLess, ExpandMore } from \"@material-ui/icons\";\nimport \"./Navbar.css\";\nimport { drawerCollapseable } from \"../../Common/Constants\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport { getPrevilegesFromServer } from \"../../Backend/sendRequestToServer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(() => ({\n  header: {\n    backgroundColor: \"white\",\n    color: \"black\",\n    padding: \"5px\",\n    // paddingRight: \"79px\",\n    // paddingLeft: \"118px\",\n    \"@media (max-width: 900px)\": {\n      paddingLeft: 0\n    }\n  },\n  menuButton: {\n    fontFamily: \"Roboto\",\n    size: \"18px\",\n    marginLeft: \"38px\"\n  },\n  toolbar: {\n    display: \"flex\",\n    justifyContent: \"flex-end\"\n  },\n  drawerContainer: {\n    padding: \"10px 15px\",\n    width: \"275px\"\n  },\n  closeIcon: {\n    position: \"absolute\",\n    top: 0,\n    right: 0,\n    paddingRight: \"10px\",\n    paddingTop: \"10px\",\n    color: \"#18D26E\"\n  },\n  menuButtonList: {\n    marginRight: \"auto\",\n    float: \"right\"\n  }\n}));\n\nconst GetEmail = () => {\n  _s();\n\n  const {\n    currentUser\n  } = useAuth();\n  return /*#__PURE__*/_jsxDEV(\"span\", {\n    children: [\"Welcome,\", \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n      style: {\n        color: \"#18D26E\"\n      },\n      children: [currentUser ? currentUser.userName : \"\", /*#__PURE__*/_jsxDEV(\"p\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Role: \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: currentUser ? currentUser.role : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 15\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"mr-3\",\n      children: [\"Email: \", /*#__PURE__*/_jsxDEV(\"b\", {\n        children: currentUser ? currentUser.emailId : \"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 16\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 5\n  }, this);\n};\n\n_s(GetEmail, \"byfRDkJ+t3MKhIwXgwbXYFaZtD0=\", false, function () {\n  return [useAuth];\n});\n\n_c = GetEmail;\nexport default function Navbar() {\n  _s2();\n\n  const {\n    header,\n    logo,\n    menuButton,\n    toolbar,\n    drawerContainer,\n    closeIcon,\n    menuButtonList\n  } = useStyles();\n  const [state, setState] = useState({\n    mobileView: false,\n    drawerOpen: false\n  });\n  const history = useHistory();\n  const {\n    currentUser,\n    logout\n  } = useAuth();\n  const [previleges, setPrevileges] = useState([]);\n  let publicUrl = process.env.PUBLIC_URL + \"/\";\n  const {\n    mobileView,\n    drawerOpen\n  } = state;\n  useEffect(() => {\n    const setResponsiveness = () => {\n      return window.innerWidth < 900 ? setState(prevState => ({ ...prevState,\n        mobileView: true\n      })) : setState(prevState => ({ ...prevState,\n        mobileView: false\n      }));\n    };\n\n    setResponsiveness();\n    window.addEventListener(\"resize\", () => setResponsiveness());\n    getPrevilegesList();\n  }, []); //Get list of previleges from localstorage or Server\n\n  const getPrevilegesList = async () => {\n    let prev = JSON.parse(localStorage.getItem(\"previleges\"));\n\n    if (prev === undefined || prev === null) {\n      const res = await getPrevilegesFromServer(currentUser.role); //API call to get Previleges\n\n      if (res.status === 200) {\n        prev = res.previleges;\n        localStorage.setItem(\"previleges\", JSON.stringify(prev));\n      }\n    } // let prevObj = {};\n    // prev.forEach((val) => {\n    //   prevObj[val] = 1;\n    // });\n    // let finalPrev = [];\n    // for(let previlege of Object.keys(drawerCollapseable)){\n    //   if(prevObj[previlege]){\n    //     finalPrev.push(previlege);\n    //   }\n    // }\n\n\n    setPrevileges(prev);\n  }; //  handle drawer open and close\n\n\n  const handleDrawerOpen = () => setState(prevState => ({ ...prevState,\n    drawerOpen: true\n  }));\n\n  const handleDrawerClose = () => setState(prevState => ({ ...prevState,\n    drawerOpen: false\n  }));\n\n  const drawer = () => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: /*#__PURE__*/_jsxDEV(Drawer, {\n        anchor: \"left\",\n        open: drawerOpen,\n        onClose: handleDrawerClose,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"mt-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            className: closeIcon,\n            children: /*#__PURE__*/_jsxDEV(ClearIcon, {\n              onClick: handleDrawerClose\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 172,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 171,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: drawerContainer,\n            children: getNewDrawer()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 175,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 170,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 9\n      }, this)\n    }, void 0, false);\n  };\n\n  const displayDesktop = () => {\n    return /*#__PURE__*/_jsxDEV(Toolbar, {\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        edge: \"start\",\n        color: \"inherit\",\n        \"aria-label\": \"menu\",\n        \"aria-haspopup\": \"true\",\n        onClick: handleDrawerOpen,\n        children: /*#__PURE__*/_jsxDEV(MenuIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 9\n      }, this), drawer(), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: \"auto\"\n        },\n        children: getMenuButtons()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 7\n    }, this);\n  };\n\n  const displayMobile = () => {\n    return /*#__PURE__*/_jsxDEV(Toolbar, {\n      children: [/*#__PURE__*/_jsxDEV(IconButton, {\n        edge: \"start\",\n        color: \"inherit\",\n        \"aria-label\": \"menu\",\n        \"aria-haspopup\": \"true\",\n        onClick: handleDrawerOpen,\n        children: /*#__PURE__*/_jsxDEV(MenuIcon, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 9\n      }, this), drawer(), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginLeft: \"auto\"\n        },\n        children: getMenuButtons()\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 220,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 7\n    }, this);\n  };\n\n  const getNewDrawer = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(List, {\n        component: \"nav\",\n        \"aria-labelledby\": \"nested-list-subheader\",\n        children: previleges && previleges.map((previlege, index) => {\n          {\n            /* console.log(previlege, drawerCollapseable); */\n          }\n          let updatePrev = previlege === \"Add Role\" ? \"Assign role and permission\" : previlege === \"View Role\" ? \"View role and permission\" : previlege;\n\n          if (drawerCollapseable[previlege]) {\n            return /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(ListItem, {\n                button: true,\n                component: RouterLink,\n                to: `${drawerCollapseable[previlege]}`,\n                color: \"inherit\",\n                style: {\n                  textDecoration: \"none\",\n                  color: \"black\"\n                },\n                children: [/*#__PURE__*/_jsxDEV(ListItemIcon, {\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    alt: \"logo\",\n                    width: \"30px\",\n                    src: publicUrl + \"images/empIcon.png\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 258,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(ListItemText, {\n                  primary: /*#__PURE__*/_jsxDEV(Typography, {\n                    style: {\n                      fontWeight: \"Bold\"\n                    },\n                    children: updatePrev\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 27\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 265,\n                  columnNumber: 23\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(Divider, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 21\n              }, this)]\n            }, void 0, true);\n          }\n\n          return null;\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 7\n    }, this);\n  };\n\n  const getMenuButtons = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"menu-item-has-children\",\n        children: [/*#__PURE__*/_jsxDEV(PersonIcon, {\n          size: \"large\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 288,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          className: \"sub-menu\",\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(GetEmail, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 291,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [/*#__PURE__*/_jsxDEV(Button, {\n              variant: \"contained\",\n              color: \"secondary\",\n              onClick: e => {\n                console.log(\"log out user fuction \");\n                logout();\n                history.push(\"/\");\n              },\n              children: \"Log Out\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 294,\n              columnNumber: 15\n            }, this), \"\\xA0\", /*#__PURE__*/_jsxDEV(Button, {\n              variant: \"outlined\",\n              color: \"primary\",\n              onClick: e => {\n                history.push(\"/reset-password\");\n              },\n              children: \"Reset Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 287,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 286,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(AppBar, {\n      className: header,\n      children: mobileView ? displayMobile() : displayDesktop()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 324,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mt-5\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 327,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 323,\n    columnNumber: 5\n  }, this);\n}\n\n_s2(Navbar, \"tJlyCxkDDDgtzZwrDLLE9Ofgrxg=\", false, function () {\n  return [useStyles, useHistory, useAuth];\n});\n\n_c2 = Navbar;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"GetEmail\");\n$RefreshReg$(_c2, \"Navbar\");","map":{"version":3,"sources":["C:/Users/parve/Desktop/job portal cod/job-portal-react-main/src/components/employer/Navbar.jsx"],"names":["AppBar","Toolbar","Typography","makeStyles","Button","IconButton","Drawer","Link","MenuItem","List","ListItem","ListItemIcon","ListItemText","Collapse","MenuIcon","React","useState","useEffect","RouterLink","useHistory","CreateIcon","TrendingFlatIcon","WorkIcon","InfoIcon","PersonIcon","ClearIcon","ViewAgendaIcon","Divider","EmojiObjects","ExpandLess","ExpandMore","drawerCollapseable","useAuth","getPrevilegesFromServer","useStyles","header","backgroundColor","color","padding","paddingLeft","menuButton","fontFamily","size","marginLeft","toolbar","display","justifyContent","drawerContainer","width","closeIcon","position","top","right","paddingRight","paddingTop","menuButtonList","marginRight","float","GetEmail","currentUser","userName","role","emailId","Navbar","logo","state","setState","mobileView","drawerOpen","history","logout","previleges","setPrevileges","publicUrl","process","env","PUBLIC_URL","setResponsiveness","window","innerWidth","prevState","addEventListener","getPrevilegesList","prev","JSON","parse","localStorage","getItem","undefined","res","status","setItem","stringify","handleDrawerOpen","handleDrawerClose","drawer","anchor","open","onClose","getNewDrawer","displayDesktop","edge","onClick","getMenuButtons","displayMobile","map","previlege","index","updatePrev","component","to","style","textDecoration","fontWeight","e","console","log","push"],"mappings":"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","sourcesContent":["import {\r\n  AppBar,\r\n  Toolbar,\r\n  Typography,\r\n  makeStyles,\r\n  Button,\r\n  IconButton,\r\n  Drawer,\r\n  Link,\r\n  MenuItem,\r\n  List,\r\n  ListItem,\r\n  ListItemIcon,\r\n  ListItemText,\r\n  Collapse,\r\n} from \"@material-ui/core\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport React, { useState, useEffect } from \"react\";\r\nimport { Link as RouterLink, useHistory } from \"react-router-dom\";\r\nimport CreateIcon from \"@material-ui/icons/Create\";\r\nimport TrendingFlatIcon from \"@material-ui/icons/TrendingFlat\";\r\nimport WorkIcon from \"@material-ui/icons/Work\";\r\nimport InfoIcon from \"@material-ui/icons/Info\";\r\nimport PersonIcon from \"@material-ui/icons/Person\";\r\nimport ClearIcon from \"@material-ui/icons/Clear\";\r\nimport ViewAgendaIcon from \"@material-ui/icons/ViewAgenda\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\n\r\nimport { EmojiObjects, ExpandLess, ExpandMore } from \"@material-ui/icons\";\r\nimport \"./Navbar.css\";\r\nimport { drawerCollapseable } from \"../../Common/Constants\";\r\nimport { useAuth } from \"../../contexts/AuthContext\";\r\nimport { getPrevilegesFromServer } from \"../../Backend/sendRequestToServer\";\r\n\r\nconst useStyles = makeStyles(() => ({\r\n  header: {\r\n    backgroundColor: \"white\",\r\n    color: \"black\",\r\n    padding: \"5px\",\r\n    // paddingRight: \"79px\",\r\n    // paddingLeft: \"118px\",\r\n    \"@media (max-width: 900px)\": {\r\n      paddingLeft: 0,\r\n    },\r\n  },\r\n  menuButton: {\r\n    fontFamily: \"Roboto\",\r\n    size: \"18px\",\r\n    marginLeft: \"38px\",\r\n  },\r\n  toolbar: {\r\n    display: \"flex\",\r\n    justifyContent: \"flex-end\",\r\n  },\r\n  drawerContainer: {\r\n    padding: \"10px 15px\",\r\n    width: \"275px\",\r\n  },\r\n  closeIcon: {\r\n    position: \"absolute\",\r\n    top: 0,\r\n    right: 0,\r\n    paddingRight: \"10px\",\r\n    paddingTop: \"10px\",\r\n    color: \"#18D26E\",\r\n  },\r\n  menuButtonList: {\r\n    marginRight: \"auto\",\r\n    float: \"right\",\r\n  },\r\n}));\r\n\r\nconst GetEmail = () => {\r\n  const { currentUser } = useAuth();\r\n\r\n  return (\r\n    <span>\r\n      Welcome,{\" \"}\r\n      <span style={{ color: \"#18D26E\" }}>\r\n        {currentUser ? currentUser.userName : \"\"}\r\n        <p></p>\r\n      </span>\r\n      <p>\r\n        Role: <b>{currentUser ? currentUser.role : \"\"}</b>\r\n      </p>\r\n      <span className=\"mr-3\">\r\n        Email: <b>{currentUser ? currentUser.emailId : \"\"}</b>\r\n      </span>\r\n    </span>\r\n  );\r\n};\r\n\r\nexport default function Navbar() {\r\n  const {\r\n    header,\r\n    logo,\r\n    menuButton,\r\n    toolbar,\r\n    drawerContainer,\r\n    closeIcon,\r\n    menuButtonList,\r\n  } = useStyles();\r\n\r\n  const [state, setState] = useState({\r\n    mobileView: false,\r\n    drawerOpen: false,\r\n  });\r\n  const history = useHistory();\r\n  const { currentUser, logout } = useAuth();\r\n\r\n  const [previleges, setPrevileges] = useState([]);\r\n\r\n  let publicUrl = process.env.PUBLIC_URL + \"/\";\r\n\r\n  const { mobileView, drawerOpen } = state;\r\n\r\n  useEffect(() => {\r\n    const setResponsiveness = () => {\r\n      return window.innerWidth < 900\r\n        ? setState((prevState) => ({ ...prevState, mobileView: true }))\r\n        : setState((prevState) => ({ ...prevState, mobileView: false }));\r\n    };\r\n\r\n    setResponsiveness();\r\n\r\n    window.addEventListener(\"resize\", () => setResponsiveness());\r\n\r\n    getPrevilegesList();\r\n  }, []);\r\n\r\n  //Get list of previleges from localstorage or Server\r\n  const getPrevilegesList = async () => {\r\n    let prev = JSON.parse(localStorage.getItem(\"previleges\"));\r\n    if (prev === undefined || prev === null) {\r\n      const res = await getPrevilegesFromServer(currentUser.role); //API call to get Previleges\r\n      if (res.status === 200) {\r\n        prev = res.previleges;\r\n        localStorage.setItem(\"previleges\", JSON.stringify(prev));\r\n      }\r\n    }\r\n    // let prevObj = {};\r\n    // prev.forEach((val) => {\r\n    //   prevObj[val] = 1;\r\n    // });\r\n    // let finalPrev = [];\r\n    // for(let previlege of Object.keys(drawerCollapseable)){\r\n    //   if(prevObj[previlege]){\r\n    //     finalPrev.push(previlege);\r\n    //   }\r\n    // }\r\n    setPrevileges(prev);\r\n  };\r\n\r\n  //  handle drawer open and close\r\n  const handleDrawerOpen = () =>\r\n    setState((prevState) => ({ ...prevState, drawerOpen: true }));\r\n  const handleDrawerClose = () =>\r\n    setState((prevState) => ({ ...prevState, drawerOpen: false }));\r\n\r\n  const drawer = () => {\r\n    return (\r\n      <>\r\n        <Drawer\r\n          {...{\r\n            anchor: \"left\",\r\n            open: drawerOpen,\r\n            onClose: handleDrawerClose,\r\n          }}\r\n        >\r\n          <div className=\"mt-2\">\r\n            <span className={closeIcon}>\r\n              <ClearIcon onClick={handleDrawerClose} />\r\n            </span>\r\n\r\n            <div className={drawerContainer}>{getNewDrawer()}</div>\r\n          </div>\r\n        </Drawer>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const displayDesktop = () => {\r\n    return (\r\n      <Toolbar>\r\n        <IconButton\r\n          {...{\r\n            edge: \"start\",\r\n            color: \"inherit\",\r\n            \"aria-label\": \"menu\",\r\n            \"aria-haspopup\": \"true\",\r\n            onClick: handleDrawerOpen,\r\n          }}\r\n        >\r\n          <MenuIcon />\r\n        </IconButton>\r\n\r\n        {drawer()}\r\n\r\n        <div style={{ marginLeft: \"auto\" }}>{getMenuButtons()}</div>\r\n      </Toolbar>\r\n    );\r\n  };\r\n\r\n  const displayMobile = () => {\r\n    return (\r\n      <Toolbar>\r\n        <IconButton\r\n          {...{\r\n            edge: \"start\",\r\n            color: \"inherit\",\r\n            \"aria-label\": \"menu\",\r\n            \"aria-haspopup\": \"true\",\r\n            onClick: handleDrawerOpen,\r\n          }}\r\n        >\r\n          <MenuIcon />\r\n        </IconButton>\r\n\r\n        {drawer()}\r\n        <div style={{ marginLeft: \"auto\" }}>{getMenuButtons()}</div>\r\n      </Toolbar>\r\n    );\r\n  };\r\n\r\n  const getNewDrawer = () => {\r\n    return (\r\n      <div>\r\n        <br />\r\n        <Divider />\r\n        <List component=\"nav\" aria-labelledby=\"nested-list-subheader\">\r\n          {previleges &&\r\n            previleges.map((previlege, index) => {\r\n              {\r\n                /* console.log(previlege, drawerCollapseable); */\r\n              }\r\n              let updatePrev =\r\n                previlege === \"Add Role\"\r\n                  ? \"Assign role and permission\"\r\n                  : previlege === \"View Role\"\r\n                  ? \"View role and permission\"\r\n                  : previlege;\r\n              if (drawerCollapseable[previlege]) {\r\n                return (\r\n                  <>\r\n                    <ListItem\r\n                      key={index}\r\n                      button\r\n                      {...{\r\n                        component: RouterLink,\r\n                        to: `${drawerCollapseable[previlege]}`,\r\n                        color: \"inherit\",\r\n                        style: {\r\n                          textDecoration: \"none\",\r\n                          color: \"black\",\r\n                        },\r\n                      }}\r\n                    >\r\n                      <ListItemIcon>\r\n                        <img\r\n                          alt=\"logo\"\r\n                          width=\"30px\"\r\n                          src={publicUrl + \"images/empIcon.png\"}\r\n                        />\r\n                      </ListItemIcon>\r\n                      <ListItemText\r\n                        primary={\r\n                          <Typography style={{ fontWeight: \"Bold\" }}>\r\n                            {updatePrev}\r\n                          </Typography>\r\n                        }\r\n                      />\r\n                    </ListItem>\r\n                    <Divider />\r\n                  </>\r\n                );\r\n              }\r\n              return null;\r\n            })}\r\n        </List>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const getMenuButtons = () => {\r\n    return (\r\n      <div>\r\n        <li className=\"menu-item-has-children\">\r\n          <PersonIcon size=\"large\" />\r\n          <ul className=\"sub-menu\">\r\n            <li>\r\n              <GetEmail />\r\n            </li>\r\n            <li>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"secondary\"\r\n                onClick={(e) => {\r\n                  console.log(\"log out user fuction \");\r\n                  logout();\r\n                  history.push(\"/\");\r\n                }}\r\n              >\r\n                Log Out\r\n              </Button>\r\n              &nbsp;\r\n              <Button\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                onClick={(e) => {\r\n                  history.push(\"/reset-password\");\r\n                }}\r\n              >\r\n                Reset Password\r\n              </Button>\r\n            </li>\r\n          </ul>\r\n        </li>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <AppBar className={header}>\r\n        {mobileView ? displayMobile() : displayDesktop()}\r\n      </AppBar>\r\n      <div className=\"mt-5\"></div>\r\n    </div>\r\n  );\r\n}\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/parve/Desktop/job portal cod/job-portal-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/parve/Desktop/job portal cod/job-portal-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/parve/Desktop/job portal cod/job-portal-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Media}from\"reactstrap\";import{withStyles}from\"@material-ui/core/styles\";import Button from\"@material-ui/core/Button\";import IconButton from\"@material-ui/core/IconButton\";import DeleteIcon from\"@material-ui/icons/Delete\";import CreateIcon from\"@material-ui/icons/Create\";import{makeStyles}from\"@material-ui/core/styles\";import{useHistory}from\"react-router-dom\";import Navbar from\"./Navbar\";import{deleteRoleFromServer,viewRoleFromServer}from\"../../Backend/sendRequestToServer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ViewRole=function ViewRole(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),blogs=_useState2[0],setBlogs=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchValue=_useState4[0],setSearchValue=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),searchResult=_useState6[0],setSearchResult=_useState6[1];var history=useHistory();useEffect(function(){fetchBlogs();},[]);var useStyles=makeStyles(function(theme){return{button:{margin:theme.spacing(1)}};});var classes=useStyles();var handleReset=function handleReset(){window.location.reload();};function checkIfSalesUser(emp){var designations=[\"National Sales Head\",\"Regional Sales Head\",\"City Sales Head\",\"Sales Executive\"];return designations.includes(emp.designation);}// function edit blogs\nfunction EditEmployee(id){console.log(\"this is \",id);history.push(\"/edit-applicant\",id);}// custom button\nvar ColorButton=withStyles(function(theme){return{root:{backgroundColor:\"#FCBF00\",color:\"white\",fontWeight:\"bold\",\"&:hover\":{backgroundColor:\"#FCBF00\"}}};})(Button);var fetchBlogs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return viewRoleFromServer();case 2:res=_context.sent;if(res.status===200){console.log({res:res});setBlogs(res.result);}else setBlogs([]);case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchBlogs(){return _ref.apply(this,arguments);};}();//  Search in textbox\nvar searchBlogResult=function searchBlogResult(val){return blogs.filter(function(data){return data.role.toLowerCase().includes(val.toLowerCase());});};var search=function search(e){setSearchValue(e.target.value);console.log(e.target.value);setSearchResult(searchBlogResult(e.target.value));};var deleteRole=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return deleteRoleFromServer({id:id});case 2:res=_context2.sent;if(res.status===200){console.log(\"Role Deleted\",res.result);window.location.reload();}else{console.log(\"Error Occured\",res);}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteRole(_x){return _ref2.apply(this,arguments);};}();var editRole=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee3(role){return _regeneratorRuntime.wrap(function _callee3$(_context3){while(1){switch(_context3.prev=_context3.next){case 0:history.push(\"/add-role\",{role:role});case 1:case\"end\":return _context3.stop();}}},_callee3);}));return function editRole(_x2){return _ref3.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5 pt-5\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\"},children:\"View Role\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row pb-3 justify-content-center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"col-10 col-md-6 search-box\",placeholder:\"Search Role\",onChange:function onChange(e){search(e);}})}),blogs.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No Role yet!\"})}):/*#__PURE__*/_jsx(_Fragment,{children:blogs.length>0&&searchValue===\"\"?blogs.map(function(blog){var prev=blog.permission_Arr?JSON.parse(blog.permission_Arr)[\"privileges\"]:[];return/*#__PURE__*/_jsx(Media,{list:true,className:\"blog-card\",children:/*#__PURE__*/_jsx(Media,{tag:\"li\",children:/*#__PURE__*/_jsxs(Media,{body:true,children:[/*#__PURE__*/_jsx(Media,{heading:true,children:blog.role}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",blog.roleDescription]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Privileges: \",prev.toString()]}),localStorage.getItem(\"email\")!==blog.email&&/*#__PURE__*/_jsxs(\"p\",{className:\"view-edit\",children:[/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"edit\",id:blog.id,onClick:function onClick(e){console.log(\"Edit Applicant\");editRole(blog);},children:/*#__PURE__*/_jsx(CreateIcon,{})}),/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"delete\",id:blog.id,onClick:function onClick(e){console.log(\"delete Applicant\");deleteRole(blog.id);},children:/*#__PURE__*/_jsx(DeleteIcon,{})})]})]})})},blog.id);}):/*#__PURE__*/_jsx(_Fragment,{children:searchResult.length>0?searchResult.map(function(blog){var prev=blog.permission_Arr?JSON.parse(blog.permission_Arr)[\"privileges\"]:[];return/*#__PURE__*/_jsx(Media,{list:true,className:\"blog-card\",children:/*#__PURE__*/_jsx(Media,{tag:\"li\",children:/*#__PURE__*/_jsxs(Media,{body:true,children:[/*#__PURE__*/_jsx(Media,{heading:true,children:blog.role}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Description: \",blog.roleDescription]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Priviledges: \",prev.toString()]}),localStorage.getItem(\"email\")!==blog.email&&/*#__PURE__*/_jsxs(\"p\",{className:\"view-edit\",children:[/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"edit\",id:blog.id,onClick:function onClick(e){console.log(\"Edit applicant\");editRole(blog);},children:/*#__PURE__*/_jsx(CreateIcon,{})}),/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"delete\",id:blog.id,onClick:function onClick(e){console.log(\"delete applicant\");deleteRole(blog.id);},children:/*#__PURE__*/_jsx(DeleteIcon,{})})]})]})})},blog.id);}):/*#__PURE__*/_jsx(_Fragment,{children:searchValue!==\"\"?/*#__PURE__*/_jsx(\"div\",{className:\"row pb-3 justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{children:\"Search Not Found!\"})}):/*#__PURE__*/_jsx(\"div\",{})})})})]})]});};export default ViewRole;","map":{"version":3,"sources":["C:/Users/parve/Desktop/job portal cod/job-portal-react-main/src/components/employer/ViewRole.jsx"],"names":["React","useEffect","useState","Media","withStyles","Button","IconButton","DeleteIcon","CreateIcon","makeStyles","useHistory","Navbar","deleteRoleFromServer","viewRoleFromServer","ViewRole","blogs","setBlogs","searchValue","setSearchValue","searchResult","setSearchResult","history","fetchBlogs","useStyles","theme","button","margin","spacing","classes","handleReset","window","location","reload","checkIfSalesUser","emp","designations","includes","designation","EditEmployee","id","console","log","push","ColorButton","root","backgroundColor","color","fontWeight","res","status","result","searchBlogResult","val","filter","data","role","toLowerCase","search","e","target","value","deleteRole","editRole","textAlign","length","map","blog","prev","permission_Arr","JSON","parse","roleDescription","toString","localStorage","getItem","email"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Media } from \"reactstrap\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport CreateIcon from \"@material-ui/icons/Create\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Navbar from \"./Navbar\";\r\nimport {\r\n  deleteRoleFromServer,\r\n  viewRoleFromServer,\r\n} from \"../../Backend/sendRequestToServer\";\r\n\r\nconst ViewRole = () => {\r\n  const [blogs, setBlogs] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [searchResult, setSearchResult] = useState([]);\r\n\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    fetchBlogs();\r\n  }, []);\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    button: {\r\n      margin: theme.spacing(1),\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const handleReset = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  function checkIfSalesUser(emp) {\r\n    const designations = [\r\n      \"National Sales Head\",\r\n      \"Regional Sales Head\",\r\n      \"City Sales Head\",\r\n      \"Sales Executive\",\r\n    ];\r\n    return designations.includes(emp.designation);\r\n  }\r\n\r\n  // function edit blogs\r\n\r\n  function EditEmployee(id) {\r\n    console.log(\"this is \", id);\r\n    history.push(\"/edit-applicant\", id);\r\n  }\r\n\r\n  // custom button\r\n\r\n  const ColorButton = withStyles((theme) => ({\r\n    root: {\r\n      backgroundColor: \"#FCBF00\",\r\n      color: \"white\",\r\n      fontWeight: \"bold\",\r\n      \"&:hover\": {\r\n        backgroundColor: \"#FCBF00\",\r\n      },\r\n    },\r\n  }))(Button);\r\n\r\n  const fetchBlogs = async () => {\r\n    // const obj = {\r\n    //   id: \"123\",\r\n    //   name: \"Hr1\",\r\n    //   email: \"hr1@getnada.com\",\r\n    //   phone: \"90909090\",\r\n    //   role: \"Hr\",\r\n    //   privileges: [\"Add Hr\", \"View Hr\"],\r\n    // };\r\n    const res = await viewRoleFromServer();\r\n    if (res.status === 200) {\r\n      console.log({ res });\r\n      setBlogs(res.result);\r\n    } else setBlogs([]);\r\n  };\r\n\r\n  //  Search in textbox\r\n  const searchBlogResult = (val) => {\r\n    return blogs.filter((data) =>\r\n      data.role.toLowerCase().includes(val.toLowerCase())\r\n    );\r\n  };\r\n  const search = (e) => {\r\n    setSearchValue(e.target.value);\r\n    console.log(e.target.value);\r\n\r\n    setSearchResult(searchBlogResult(e.target.value));\r\n  };\r\n\r\n  const deleteRole = async (id) => {\r\n    const res = await deleteRoleFromServer({ id });\r\n    if (res.status === 200) {\r\n      console.log(\"Role Deleted\", res.result);\r\n      window.location.reload();\r\n    } else {\r\n      console.log(\"Error Occured\", res);\r\n    }\r\n  };\r\n\r\n  const editRole = async (role) => {\r\n    history.push(\"/add-role\", { role });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className=\"container mt-5 pt-5\">\r\n        <h2 style={{ textAlign: \"center\" }}>View Role</h2>\r\n        <div className=\"row pb-3 justify-content-center\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"col-10 col-md-6 search-box\"\r\n            placeholder=\"Search Role\"\r\n            onChange={(e) => {\r\n              search(e);\r\n            }}\r\n          />\r\n        </div>\r\n        {blogs.length === 0 ? (\r\n          <div className=\"row justify-content-center\">\r\n            <p>No Role yet!</p>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {blogs.length > 0 && searchValue === \"\" ? (\r\n              blogs.map((blog) => {\r\n                const prev = blog.permission_Arr\r\n                  ? JSON.parse(blog.permission_Arr)[\"privileges\"]\r\n                  : [];\r\n                return (\r\n                  <Media list key={blog.id} className=\"blog-card\">\r\n                    <Media tag=\"li\">\r\n                      <Media body>\r\n                        <Media heading>{blog.role}</Media>\r\n                        <p>Description: {blog.roleDescription}</p>\r\n                        <p>Privileges: {prev.toString()}</p>\r\n                        {localStorage.getItem(\"email\") !== blog.email && (\r\n                          <p className=\"view-edit\">\r\n                            <IconButton\r\n                              aria-label=\"edit\"\r\n                              id={blog.id}\r\n                              onClick={(e) => {\r\n                                console.log(\"Edit Applicant\");\r\n                                editRole(blog);\r\n                              }}\r\n                            >\r\n                              <CreateIcon />\r\n                            </IconButton>\r\n                            <IconButton\r\n                              aria-label=\"delete\"\r\n                              id={blog.id}\r\n                              onClick={(e) => {\r\n                                console.log(\"delete Applicant\");\r\n                                deleteRole(blog.id);\r\n                              }}\r\n                            >\r\n                              <DeleteIcon />\r\n                            </IconButton>\r\n                          </p>\r\n                        )}\r\n                      </Media>\r\n                    </Media>\r\n                  </Media>\r\n                );\r\n              })\r\n            ) : (\r\n              <>\r\n                {searchResult.length > 0 ? (\r\n                  searchResult.map((blog) => {\r\n                    const prev = blog.permission_Arr\r\n                      ? JSON.parse(blog.permission_Arr)[\"privileges\"]\r\n                      : [];\r\n                    return (\r\n                      <Media list key={blog.id} className=\"blog-card\">\r\n                        <Media tag=\"li\">\r\n                          <Media body>\r\n                            <Media heading>{blog.role}</Media>\r\n                            <p>Description: {blog.roleDescription}</p>\r\n                            <p>Priviledges: {prev.toString()}</p>\r\n                            {localStorage.getItem(\"email\") !== blog.email && (\r\n                              <p className=\"view-edit\">\r\n                                <IconButton\r\n                                  aria-label=\"edit\"\r\n                                  id={blog.id}\r\n                                  onClick={(e) => {\r\n                                    console.log(\"Edit applicant\");\r\n                                    editRole(blog);\r\n                                  }}\r\n                                >\r\n                                  <CreateIcon />\r\n                                </IconButton>\r\n                                <IconButton\r\n                                  aria-label=\"delete\"\r\n                                  id={blog.id}\r\n                                  onClick={(e) => {\r\n                                    console.log(\"delete applicant\");\r\n                                    deleteRole(blog.id);\r\n                                  }}\r\n                                >\r\n                                  <DeleteIcon />\r\n                                </IconButton>\r\n                              </p>\r\n                            )}\r\n                          </Media>\r\n                        </Media>\r\n                      </Media>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <>\r\n                    {searchValue !== \"\" ? (\r\n                      <div className=\"row pb-3 justify-content-center\">\r\n                        <div>Search Not Found!</div>\r\n                      </div>\r\n                    ) : (\r\n                      <div></div>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ViewRole;\r\n"]},"metadata":{},"sourceType":"module"}
{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/parve/Desktop/job portal cod/job-portal-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/parve/Desktop/job portal cod/job-portal-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _objectSpread from\"C:/Users/parve/Desktop/job portal cod/job-portal-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/parve/Desktop/job portal cod/job-portal-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _defineProperty from\"C:/Users/parve/Desktop/job portal cod/job-portal-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty\";import React from\"react\";import{makeStyles}from\"@material-ui/core/styles\";import{withStyles}from\"@material-ui/core/styles\";import{ThemeProvider,createMuiTheme}from\"@material-ui/core/styles\";import Card from\"@material-ui/core/Card\";import CardActions from\"@material-ui/core/CardActions\";import CardContent from\"@material-ui/core/CardContent\";import Button from\"@material-ui/core/Button\";import Typography from\"@material-ui/core/Typography\";import TextField from\"@material-ui/core/TextField\";import Select from\"@material-ui/core/Select\";import Input from\"@material-ui/core/Input\";import clsx from\"clsx\";import{CircularProgress}from\"@material-ui/core\";import Checkbox from\"@material-ui/core/Checkbox\";import MenuItem from\"@material-ui/core/MenuItem\";import FormControl from\"@material-ui/core/FormControl\";import InputLabel from\"@material-ui/core/InputLabel\";import ListItemText from\"@material-ui/core/ListItemText\";import TextareaAutosize from\"@material-ui/core/TextareaAutosize\";import Dialog from\"@material-ui/core/Dialog\";import DialogActions from\"@material-ui/core/DialogActions\";import DialogContent from\"@material-ui/core/DialogContent\";import DialogContentText from\"@material-ui/core/DialogContentText\";import DialogTitle from\"@material-ui/core/DialogTitle\";import{green}from\"@material-ui/core/colors\";import FormGroup from\"@material-ui/core/FormGroup\";import FormControlLabel from\"@material-ui/core/FormControlLabel\";import CheckBoxOutlineBlankIcon from\"@material-ui/icons/CheckBoxOutlineBlank\";import CheckBoxIcon from\"@material-ui/icons/CheckBox\";import Favorite from\"@material-ui/icons/Favorite\";import FavoriteBorder from\"@material-ui/icons/FavoriteBorder\";import Accordion from\"@material-ui/core/Accordion\";import AccordionSummary from\"@material-ui/core/AccordionSummary\";import AccordionDetails from\"@material-ui/core/AccordionDetails\";import ExpandMoreIcon from\"@material-ui/icons/ExpandMore\";import Paper from\"@material-ui/core/Paper\";import Grid from\"@material-ui/core/Grid\";import{useHistory}from\"react-router\";import{useState,useContext,useEffect}from\"react\";import{drawerCollapseable,permissions}from\"../../Common/Constants\";import Navbar from\"./Navbar\";import{addRole,editRoleFromServer}from\"../../Backend/sendRequestToServer\";import{useLocation}from\"react-router-dom\";import swal from\"sweetalert\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){var _ref;return _ref={root:{// minWidth: 275,\n// margin: \"15px 15px 15px 15px\",\nborderRadius:\"10px\",padding:\"12px\",display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",textAlign:\"center\",boxShadow:\"0 5px 10px rgba(0,0,0,0.19), 0 3px 3px rgba(0,0,0,0.21)\"},form:{margin:\"15px 15px 15px 15px\",borderRadius:\"10px\",padding:\"12px\",display:\"flex\",flexDirection:\"column\",justifyContent:\"center\",textAlign:\"center\"},pos:{marginTop:20},formControl:{margin:theme.spacing(1),minWidth:120,maxWidth:300},selectEmpty:{marginTop:theme.spacing(2)},bullet:{display:\"inline-block\",margin:\"0 2px\",transform:\"scale(0.8)\"},title:{fontSize:14}},_defineProperty(_ref,\"pos\",{marginBottom:12}),_defineProperty(_ref,\"label\",{color:\"#000\"}),_defineProperty(_ref,\"textField\",{\"& .MuiInputBase-input\":{color:\"#000\"}}),_defineProperty(_ref,\"errMsg\",{color:\"red\",fontWeight:\"bold\",fontSize:\"small\",marginBottom:\"10px\",textAlign:\"left\"}),_ref;});var AddRole=function AddRole(props){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),showMobileErr=_useState2[0],setMobileErr=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),showEmailErr=_useState4[0],setEmailErr=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),showPassErr=_useState6[0],setPassErr=_useState6[1];var location=useLocation();var isEdit=false,state=location.state;if(state&&state.role){// console.log(state.role);\nisEdit=true;}var history=useHistory();var _React$useState=React.useState(false),_React$useState2=_slicedToArray(_React$useState,2),showSpinner=_React$useState2[0],setShowSpinner=_React$useState2[1];var handleReset=function handleReset(){window.location.reload();};// feild empty err hooks\nvar _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),showTitleErr=_React$useState4[0],setShowTitleErr=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),showDescErr=_React$useState6[0],setShowDescErr=_React$useState6[1];var _React$useState7=React.useState(false),_React$useState8=_slicedToArray(_React$useState7,2),showLocationErr=_React$useState8[0],setShowLocationErr=_React$useState8[1];var _React$useState9=React.useState(false),_React$useState10=_slicedToArray(_React$useState9,2),showQualErr=_React$useState10[0],setShowQualErr=_React$useState10[1];var classes=useStyles();var _React$useState11=React.useState(false),_React$useState12=_slicedToArray(_React$useState11,2),expanded=_React$useState12[0],setExpanded=_React$useState12[1];useEffect(function(){if(isEdit){setApplicant({name:state.role.role,roleDescription:state.role.roleDescription,pageName:JSON.parse(state.role.permission_Arr)[\"privileges\"]});}},[]);var handleChangex=function handleChangex(panel){return function(event,isExpanded){setExpanded(isExpanded?panel:false);};};//priviledges dialog\nvar _React$useState13=React.useState(false),_React$useState14=_slicedToArray(_React$useState13,2),open=_React$useState14[0],setOpen=_React$useState14[1];var ITEM_HEIGHT=48;var ITEM_PADDING_TOP=8;var MenuProps={PaperProps:{style:{maxHeight:ITEM_HEIGHT*4.5+ITEM_PADDING_TOP,width:250,backgroundColor:\"#fff\",color:\"#000\"}}};var _useState7=useState({name:\"\",roleDescription:\"\",pageName:[]}),_useState8=_slicedToArray(_useState7,2),applicant=_useState8[0],setApplicant=_useState8[1];var handleClickOpen=function handleClickOpen(){setOpen(true);};var handleClose=function handleClose(){setOpen(false);};var name=applicant.name,roleDescription=applicant.roleDescription,pageName=applicant.pageName;var onChange=function onChange(e){console.log(e.target.name);setApplicant(_objectSpread(_objectSpread({},applicant),{},_defineProperty({},e.target.name,e.target.value)));console.log(applicant.pageName);switch(e.target.name){case\"phone\":if(!validatePhone(e.target.value)){setMobileErr(\"Please Enter Valid Phone number\");}else{setMobileErr(\"\");}break;case\"email\":if(!validateEmail(e.target.value)){setEmailErr(\"Please Enter Valid Email\");}else{setEmailErr(\"\");}break;default:break;}};var onChangePrivilege=function onChangePrivilege(e){console.log(e.target.name);var prv=e.target.value;var tempArr=[];if(e.target.checked){tempArr=applicant.pageName;tempArr.push(prv);}else{tempArr=applicant.pageName;var index=tempArr.indexOf(prv);tempArr.splice(index,1);}setApplicant(_objectSpread(_objectSpread({},applicant),{},{pageName:tempArr}));console.log(applicant.pageName);};var addRoleButton=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(e){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:e.preventDefault();if(!(name===\"\"||roleDescription===\"\"||pageName.length===0)){_context.next=5;break;}alert(\"Please enter all fields\");_context.next=15;break;case 5:if(!(showEmailErr!==\"\"||showMobileErr!==\"\")){_context.next=10;break;}console.log(\"Email or phone is wrong\");return _context.abrupt(\"return\",false);case 10:setShowSpinner(true);_context.next=13;return addRole({role:name,roleDescription:roleDescription,permission_Arr:JSON.stringify({privileges:pageName})});case 13:res=_context.sent;if(res.status===200){setShowSpinner(false);swal(\"Success!\",\"Role Added\",\"success\").then(function(value){return handleReset();});}else{setShowSpinner(false);console.log(res);swal(\"Failed!\",\"Failed to create Role. Try Again!!!\",\"error\");}case 15:case\"end\":return _context.stop();}}},_callee);}));return function addRoleButton(_x){return _ref2.apply(this,arguments);};}();var editRoleButton=/*#__PURE__*/function(){var _ref3=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(e){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:e.preventDefault();if(!(name===\"\"||roleDescription===\"\"||pageName.length===0)){_context2.next=5;break;}alert(\"Please enter all fields\");_context2.next=15;break;case 5:if(!(showEmailErr!==\"\"||showMobileErr!==\"\")){_context2.next=10;break;}console.log(\"Email or phone is wrong\");return _context2.abrupt(\"return\",false);case 10:setShowSpinner(true);_context2.next=13;return editRoleFromServer(_objectSpread(_objectSpread({},state.role),{},{role:name,roleDescription:roleDescription,permission_Arr:JSON.stringify({privileges:pageName})}));case 13:res=_context2.sent;if(res.status===200){setShowSpinner(false);swal(\"Success!\",\"Role Edited\",\"success\").then(function(value){return history.push(\"/view-role\");});}else{setShowSpinner(false);console.log(res);swal(\"Failed!\",\"Failed to create Role. Try Again!!!\",\"error\");}case 15:case\"end\":return _context2.stop();}}},_callee2);}));return function editRoleButton(_x2){return _ref3.apply(this,arguments);};}();// email validation\nvar validateEmail=function validateEmail(email){var re=/^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;return re.test(email);};// phone validation\nvar validatePhone=function validatePhone(mob){var re=/^[0-9]{10}$/;return re.test(mob);};// custom button\nvar ColorButton=withStyles(function(theme){return{root:{backgroundColor:\"#FCBF00\",\"&:hover\":{backgroundColor:\"#FCBF00\"}}};})(Button);// const classes = useStyles();\nvar bull=/*#__PURE__*/_jsx(\"span\",{className:classes.bullet,children:\"\\u2022\"});return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5 pt-5\",children:/*#__PURE__*/_jsx(\"div\",{className:\"row align-items-center justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6\",children:/*#__PURE__*/_jsxs(Card,{className:classes.root,variant:\"outlined\",children:[/*#__PURE__*/_jsxs(CardContent,{children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",component:\"h2\",children:isEdit?\"Edit Role\":\"Add Role\"}),/*#__PURE__*/_jsxs(\"form\",{className:classes.form,noValidate:true,autoComplete:\"off\",children:[/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\" Role Name*\",name:\"name\",variant:\"outlined\",value:name,onChange:onChange,error:showTitleErr,helperText:showTitleErr&&\"Please Enter Name\",style:{marginBottom:\"10px\"}}),/*#__PURE__*/_jsx(TextField,{id:\"outlined-basic\",label:\" Role Description*\",name:\"roleDescription\",variant:\"outlined\",value:roleDescription,onChange:onChange,error:showTitleErr,helperText:showTitleErr&&\"Please Enter Description\",style:{marginBottom:\"10px\"}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"b\",{style:{marginBottom:\"10px\"},children:\"Selected Privileges:\"}),applicant.pageName.map(function(value,index){return/*#__PURE__*/_jsxs(\"span\",{children:[value,\"; \"]},index);})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{variant:\"outlined\",color:\"primary\",onClick:handleClickOpen,children:\"Add Privileges\"}),/*#__PURE__*/_jsxs(Dialog,{open:open,onClose:handleClose,\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{id:\"alert-dialog-title\",children:\"Select Privileges\"}),/*#__PURE__*/_jsx(DialogContent,{children:Object.keys(permissions).map(function(page,index){return/*#__PURE__*/_jsxs(Accordion,{expanded:expanded===page,onChange:handleChangex(page),children:[/*#__PURE__*/_jsx(AccordionSummary,{expandIcon:/*#__PURE__*/_jsx(ExpandMoreIcon,{}),\"aria-controls\":\"panel2bh-content\",id:\"panel2bh-header\",children:/*#__PURE__*/_jsx(Typography,{className:classes.heading,children:page})}),/*#__PURE__*/_jsx(AccordionDetails,{children:/*#__PURE__*/_jsx(FormGroup,{row:true,children:permissions[page].map(function(pagex){return/*#__PURE__*/_jsx(FormControlLabel,{control:/*#__PURE__*/_jsx(Checkbox,{name:\"pageName\",value:pagex,checked:applicant.pageName.indexOf(pagex)>-1,onChange:onChangePrivilege}),label:pagex},pagex);})})})]},page);})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"primary\",children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{onClick:handleClose,color:\"primary\",autoFocus:true,children:\"Save\"})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{children:showSpinner?/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{style:{marginLeft:\"10px\",color:\"#ff0000\"},children:/*#__PURE__*/_jsx(\"h5\",{children:\"Please DO NOT REFRESH the page...\"})}),/*#__PURE__*/_jsx(CircularProgress,{style:{color:\"#18D26E\"}})]}):/*#__PURE__*/_jsx(\"div\",{})}),/*#__PURE__*/_jsx(CardActions,{style:{justifyContent:\"center\",fontWeight:\"bold\"},children:/*#__PURE__*/_jsx(ColorButton,{variant:\"contained\",color:\"primary\",onClick:function onClick(e){console.log(\"Add User function\");if(isEdit){editRoleButton(e);}else addRoleButton(e);},children:isEdit?\"Edit Role\":\" Add Role\"})})]})})})})]});};export default AddRole;","map":{"version":3,"sources":["C:/Users/parve/Desktop/job portal cod/job-portal-react-main/src/components/employer/AddRole.jsx"],"names":["React","makeStyles","withStyles","ThemeProvider","createMuiTheme","Card","CardActions","CardContent","Button","Typography","TextField","Select","Input","clsx","CircularProgress","Checkbox","MenuItem","FormControl","InputLabel","ListItemText","TextareaAutosize","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","green","FormGroup","FormControlLabel","CheckBoxOutlineBlankIcon","CheckBoxIcon","Favorite","FavoriteBorder","Accordion","AccordionSummary","AccordionDetails","ExpandMoreIcon","Paper","Grid","useHistory","useState","useContext","useEffect","drawerCollapseable","permissions","Navbar","addRole","editRoleFromServer","useLocation","swal","useStyles","theme","root","borderRadius","padding","display","flexDirection","justifyContent","textAlign","boxShadow","form","margin","pos","marginTop","formControl","spacing","minWidth","maxWidth","selectEmpty","bullet","transform","title","fontSize","marginBottom","color","fontWeight","AddRole","props","showMobileErr","setMobileErr","showEmailErr","setEmailErr","showPassErr","setPassErr","location","isEdit","state","role","history","showSpinner","setShowSpinner","handleReset","window","reload","showTitleErr","setShowTitleErr","showDescErr","setShowDescErr","showLocationErr","setShowLocationErr","showQualErr","setShowQualErr","classes","expanded","setExpanded","setApplicant","name","roleDescription","pageName","JSON","parse","permission_Arr","handleChangex","panel","event","isExpanded","open","setOpen","ITEM_HEIGHT","ITEM_PADDING_TOP","MenuProps","PaperProps","style","maxHeight","width","backgroundColor","applicant","handleClickOpen","handleClose","onChange","e","console","log","target","value","validatePhone","validateEmail","onChangePrivilege","prv","tempArr","checked","push","index","indexOf","splice","addRoleButton","preventDefault","length","alert","stringify","privileges","res","status","then","editRoleButton","email","re","test","mob","ColorButton","bull","map","Object","keys","page","heading","pagex","marginLeft"],"mappings":"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","sourcesContent":["import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { ThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport clsx from \"clsx\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport TextareaAutosize from \"@material-ui/core/TextareaAutosize\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\r\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\r\nimport Favorite from \"@material-ui/icons/Favorite\";\r\nimport FavoriteBorder from \"@material-ui/icons/FavoriteBorder\";\r\n\r\nimport Accordion from \"@material-ui/core/Accordion\";\r\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\r\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport { useHistory } from \"react-router\";\r\nimport { useState, useContext, useEffect } from \"react\";\r\nimport { drawerCollapseable, permissions } from \"../../Common/Constants\";\r\nimport Navbar from \"./Navbar\";\r\nimport { addRole, editRoleFromServer } from \"../../Backend/sendRequestToServer\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport swal from \"sweetalert\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    // minWidth: 275,\r\n    // margin: \"15px 15px 15px 15px\",\r\n    borderRadius: \"10px\",\r\n    padding: \"12px\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    textAlign: \"center\",\r\n    boxShadow: \"0 5px 10px rgba(0,0,0,0.19), 0 3px 3px rgba(0,0,0,0.21)\",\r\n  },\r\n  form: {\r\n    margin: \"15px 15px 15px 15px\",\r\n    borderRadius: \"10px\",\r\n    padding: \"12px\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    textAlign: \"center\",\r\n  },\r\n  pos: {\r\n    marginTop: 20,\r\n  },\r\n\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n    maxWidth: 300,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  bullet: {\r\n    display: \"inline-block\",\r\n    margin: \"0 2px\",\r\n    transform: \"scale(0.8)\",\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n  label: {\r\n    color: \"#000\",\r\n  },\r\n\r\n  textField: {\r\n    \"& .MuiInputBase-input\": {\r\n      color: \"#000\",\r\n    },\r\n  },\r\n\r\n  errMsg: {\r\n    color: \"red\",\r\n    fontWeight: \"bold\",\r\n    fontSize: \"small\",\r\n    marginBottom: \"10px\",\r\n    textAlign: \"left\",\r\n  },\r\n}));\r\n\r\nconst AddRole = (props) => {\r\n  const [showMobileErr, setMobileErr] = useState(\"\");\r\n  const [showEmailErr, setEmailErr] = useState(\"\");\r\n  const [showPassErr, setPassErr] = useState(\"\");\r\n  let location = useLocation();\r\n  let isEdit = false,\r\n    state = location.state;\r\n  if (state && state.role) {\r\n    // console.log(state.role);\r\n    isEdit = true;\r\n  }\r\n  let history = useHistory();\r\n  const [showSpinner, setShowSpinner] = React.useState(false);\r\n  const handleReset = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  // feild empty err hooks\r\n  const [showTitleErr, setShowTitleErr] = React.useState(false);\r\n  const [showDescErr, setShowDescErr] = React.useState(false);\r\n  const [showLocationErr, setShowLocationErr] = React.useState(false);\r\n  const [showQualErr, setShowQualErr] = React.useState(false);\r\n\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = React.useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isEdit) {\r\n      setApplicant({\r\n        name: state.role.role,\r\n        roleDescription: state.role.roleDescription,\r\n        pageName: JSON.parse(state.role.permission_Arr)[\"privileges\"],\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const handleChangex = (panel) => (event, isExpanded) => {\r\n    setExpanded(isExpanded ? panel : false);\r\n  };\r\n\r\n  //priviledges dialog\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const ITEM_HEIGHT = 48;\r\n  const ITEM_PADDING_TOP = 8;\r\n\r\n  const MenuProps = {\r\n    PaperProps: {\r\n      style: {\r\n        maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n        width: 250,\r\n        backgroundColor: \"#fff\",\r\n        color: \"#000\",\r\n      },\r\n    },\r\n  };\r\n\r\n  const [applicant, setApplicant] = useState({\r\n    name: \"\",\r\n    roleDescription: \"\",\r\n    pageName: [],\r\n  });\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const { name, roleDescription, pageName } = applicant;\r\n\r\n  const onChange = (e) => {\r\n    console.log(e.target.name);\r\n    setApplicant({ ...applicant, [e.target.name]: e.target.value });\r\n    console.log(applicant.pageName);\r\n    switch (e.target.name) {\r\n      case \"phone\":\r\n        if (!validatePhone(e.target.value)) {\r\n          setMobileErr(\"Please Enter Valid Phone number\");\r\n        } else {\r\n          setMobileErr(\"\");\r\n        }\r\n        break;\r\n\r\n      case \"email\":\r\n        if (!validateEmail(e.target.value)) {\r\n          setEmailErr(\"Please Enter Valid Email\");\r\n        } else {\r\n          setEmailErr(\"\");\r\n        }\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const onChangePrivilege = (e) => {\r\n    console.log(e.target.name);\r\n    const prv = e.target.value;\r\n    let tempArr = [];\r\n    if (e.target.checked) {\r\n      tempArr = applicant.pageName;\r\n      tempArr.push(prv);\r\n    } else {\r\n      tempArr = applicant.pageName;\r\n      const index = tempArr.indexOf(prv);\r\n      tempArr.splice(index, 1);\r\n    }\r\n\r\n    setApplicant({ ...applicant, pageName: tempArr });\r\n\r\n    console.log(applicant.pageName);\r\n  };\r\n\r\n  const addRoleButton = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (name === \"\" || roleDescription === \"\" || pageName.length === 0) {\r\n      alert(\"Please enter all fields\");\r\n    } else if (showEmailErr !== \"\" || showMobileErr !== \"\") {\r\n      console.log(\"Email or phone is wrong\");\r\n      return false;\r\n    } else {\r\n      setShowSpinner(true);\r\n      const res = await addRole({\r\n        role: name,\r\n        roleDescription: roleDescription,\r\n        permission_Arr: JSON.stringify({ privileges: pageName }),\r\n      });\r\n\r\n      if (res.status === 200) {\r\n        setShowSpinner(false);\r\n        swal(\"Success!\", \"Role Added\", \"success\").then((value) =>\r\n          handleReset()\r\n        );\r\n      } else {\r\n        setShowSpinner(false);\r\n        console.log(res);\r\n        swal(\"Failed!\", \"Failed to create Role. Try Again!!!\", \"error\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const editRoleButton = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (name === \"\" || roleDescription === \"\" || pageName.length === 0) {\r\n      alert(\"Please enter all fields\");\r\n    } else if (showEmailErr !== \"\" || showMobileErr !== \"\") {\r\n      console.log(\"Email or phone is wrong\");\r\n      return false;\r\n    } else {\r\n      setShowSpinner(true);\r\n      const res = await editRoleFromServer({\r\n        ...state.role,\r\n        role: name,\r\n        roleDescription: roleDescription,\r\n        permission_Arr: JSON.stringify({ privileges: pageName }),\r\n      });\r\n\r\n      if (res.status === 200) {\r\n        setShowSpinner(false);\r\n        swal(\"Success!\", \"Role Edited\", \"success\").then((value) =>\r\n          history.push(\"/view-role\")\r\n        );\r\n      } else {\r\n        setShowSpinner(false);\r\n        console.log(res);\r\n        swal(\"Failed!\", \"Failed to create Role. Try Again!!!\", \"error\");\r\n      }\r\n    }\r\n  };\r\n\r\n  // email validation\r\n  const validateEmail = (email) => {\r\n    const re =\r\n      /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(email);\r\n  };\r\n  // phone validation\r\n  const validatePhone = (mob) => {\r\n    const re = /^[0-9]{10}$/;\r\n    return re.test(mob);\r\n  };\r\n\r\n  // custom button\r\n\r\n  const ColorButton = withStyles((theme) => ({\r\n    root: {\r\n      backgroundColor: \"#FCBF00\",\r\n      \"&:hover\": {\r\n        backgroundColor: \"#FCBF00\",\r\n      },\r\n    },\r\n  }))(Button);\r\n\r\n  // const classes = useStyles();\r\n  const bull = <span className={classes.bullet}>•</span>;\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className=\"container mt-5 pt-5\">\r\n        <div className=\"row align-items-center justify-content-center\">\r\n          <div className=\"col-12 col-md-6\">\r\n            <Card className={classes.root} variant=\"outlined\">\r\n              <CardContent>\r\n                <Typography variant=\"h5\" component=\"h2\">\r\n                  {isEdit ? \"Edit Role\" : \"Add Role\"}\r\n                </Typography>\r\n                <form className={classes.form} noValidate autoComplete=\"off\">\r\n                  <TextField\r\n                    id=\"outlined-basic\"\r\n                    label=\" Role Name*\"\r\n                    name=\"name\"\r\n                    variant=\"outlined\"\r\n                    value={name}\r\n                    onChange={onChange}\r\n                    error={showTitleErr}\r\n                    helperText={showTitleErr && \"Please Enter Name\"}\r\n                    style={{ marginBottom: \"10px\" }}\r\n                  />\r\n\r\n                  <TextField\r\n                    id=\"outlined-basic\"\r\n                    label=\" Role Description*\"\r\n                    name=\"roleDescription\"\r\n                    variant=\"outlined\"\r\n                    value={roleDescription}\r\n                    onChange={onChange}\r\n                    error={showTitleErr}\r\n                    helperText={showTitleErr && \"Please Enter Description\"}\r\n                    style={{ marginBottom: \"10px\" }}\r\n                  />\r\n\r\n                  <br />\r\n\r\n                  <div>\r\n                    <b style={{ marginBottom: \"10px\" }}>Selected Privileges:</b>\r\n                    {applicant.pageName.map((value, index) => {\r\n                      return <span key={index}>{value}; </span>;\r\n                    })}\r\n                  </div>\r\n                </form>\r\n                <div>\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    color=\"primary\"\r\n                    onClick={handleClickOpen}\r\n                  >\r\n                    Add Privileges\r\n                  </Button>\r\n                  <Dialog\r\n                    open={open}\r\n                    onClose={handleClose}\r\n                    aria-labelledby=\"alert-dialog-title\"\r\n                    aria-describedby=\"alert-dialog-description\"\r\n                  >\r\n                    <DialogTitle id=\"alert-dialog-title\">\r\n                      {\"Select Privileges\"}\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                      {Object.keys(permissions).map((page, index) => (\r\n                        <Accordion\r\n                          expanded={expanded === page}\r\n                          onChange={handleChangex(page)}\r\n                          key={page}\r\n                        >\r\n                          <AccordionSummary\r\n                            expandIcon={<ExpandMoreIcon />}\r\n                            aria-controls=\"panel2bh-content\"\r\n                            id=\"panel2bh-header\"\r\n                          >\r\n                            <Typography className={classes.heading}>\r\n                              {page}\r\n                            </Typography>\r\n                          </AccordionSummary>\r\n                          <AccordionDetails>\r\n                            <FormGroup row>\r\n                              {permissions[page].map((pagex) => (\r\n                                <FormControlLabel\r\n                                  key={pagex}\r\n                                  control={\r\n                                    <Checkbox\r\n                                      name=\"pageName\"\r\n                                      value={pagex}\r\n                                      checked={\r\n                                        applicant.pageName.indexOf(pagex) > -1\r\n                                      }\r\n                                      onChange={onChangePrivilege}\r\n                                    />\r\n                                  }\r\n                                  label={pagex}\r\n                                />\r\n                              ))}\r\n                            </FormGroup>\r\n                          </AccordionDetails>\r\n                        </Accordion>\r\n                      ))}\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                      <Button onClick={handleClose} color=\"primary\">\r\n                        Cancel\r\n                      </Button>\r\n                      <Button onClick={handleClose} color=\"primary\" autoFocus>\r\n                        Save\r\n                      </Button>\r\n                    </DialogActions>\r\n                  </Dialog>\r\n                </div>\r\n              </CardContent>\r\n              <div>\r\n                {showSpinner ? (\r\n                  <div>\r\n                    <span style={{ marginLeft: \"10px\", color: \"#ff0000\" }}>\r\n                      <h5>Please DO NOT REFRESH the page...</h5>\r\n                    </span>\r\n                    <CircularProgress\r\n                      style={{\r\n                        color: \"#18D26E\",\r\n                      }}\r\n                    />\r\n                  </div>\r\n                ) : (\r\n                  <div></div>\r\n                )}\r\n              </div>\r\n              <CardActions\r\n                style={{ justifyContent: \"center\", fontWeight: \"bold\" }}\r\n              >\r\n                <ColorButton\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={(e) => {\r\n                    console.log(\"Add User function\");\r\n                    if (isEdit) {\r\n                      editRoleButton(e);\r\n                    } else addRoleButton(e);\r\n                  }}\r\n                >\r\n                  {isEdit ? \"Edit Role\" : \" Add Role\"}\r\n                </ColorButton>\r\n              </CardActions>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddRole;\r\n"]},"metadata":{},"sourceType":"module"}
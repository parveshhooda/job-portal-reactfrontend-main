{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\parve\\\\Desktop\\\\job portal cod\\\\job-portal-react-main\\\\src\\\\components\\\\employer\\\\AddRole.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { ThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Select from \"@material-ui/core/Select\";\nimport Input from \"@material-ui/core/Input\";\nimport clsx from \"clsx\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport TextareaAutosize from \"@material-ui/core/TextareaAutosize\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { green } from \"@material-ui/core/colors\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\nimport Favorite from \"@material-ui/icons/Favorite\";\nimport FavoriteBorder from \"@material-ui/icons/FavoriteBorder\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { useHistory } from \"react-router\";\nimport { useState, useContext, useEffect } from \"react\";\nimport { drawerCollapseable, permissions } from \"../../Common/Constants\";\nimport Navbar from \"./Navbar\";\nimport { addRole, editRoleFromServer } from \"../../Backend/sendRequestToServer\";\nimport { useLocation } from \"react-router-dom\";\nimport swal from \"sweetalert\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    // minWidth: 275,\n    // margin: \"15px 15px 15px 15px\",\n    borderRadius: \"10px\",\n    padding: \"12px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    textAlign: \"center\",\n    boxShadow: \"0 5px 10px rgba(0,0,0,0.19), 0 3px 3px rgba(0,0,0,0.21)\"\n  },\n  form: {\n    margin: \"15px 15px 15px 15px\",\n    borderRadius: \"10px\",\n    padding: \"12px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    textAlign: \"center\"\n  },\n  pos: {\n    marginTop: 20\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n    maxWidth: 300\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2)\n  },\n  bullet: {\n    display: \"inline-block\",\n    margin: \"0 2px\",\n    transform: \"scale(0.8)\"\n  },\n  title: {\n    fontSize: 14\n  },\n  pos: {\n    marginBottom: 12\n  },\n  label: {\n    color: \"#000\"\n  },\n  textField: {\n    \"& .MuiInputBase-input\": {\n      color: \"#000\"\n    }\n  },\n  errMsg: {\n    color: \"red\",\n    fontWeight: \"bold\",\n    fontSize: \"small\",\n    marginBottom: \"10px\",\n    textAlign: \"left\"\n  }\n}));\n\nconst AddRole = props => {\n  _s();\n\n  const [showMobileErr, setMobileErr] = useState(\"\");\n  const [showEmailErr, setEmailErr] = useState(\"\");\n  const [showPassErr, setPassErr] = useState(\"\");\n  let location = useLocation();\n  let isEdit = false,\n      state = location.state;\n\n  if (state && state.role) {\n    // console.log(state.role);\n    isEdit = true;\n  }\n\n  let history = useHistory();\n  const [showSpinner, setShowSpinner] = React.useState(false);\n\n  const handleReset = () => {\n    window.location.reload();\n  }; // feild empty err hooks\n\n\n  const [showTitleErr, setShowTitleErr] = React.useState(false);\n  const [showDescErr, setShowDescErr] = React.useState(false);\n  const [showLocationErr, setShowLocationErr] = React.useState(false);\n  const [showQualErr, setShowQualErr] = React.useState(false);\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState(false);\n  useEffect(() => {\n    if (isEdit) {\n      setApplicant({\n        name: state.role.role,\n        roleDescription: state.role.roleDescription,\n        pageName: JSON.parse(state.role.permission_Arr)[\"privileges\"]\n      });\n    }\n  }, []);\n\n  const handleChangex = panel => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  }; //priviledges dialog\n\n\n  const [open, setOpen] = React.useState(false);\n  const ITEM_HEIGHT = 48;\n  const ITEM_PADDING_TOP = 8;\n  const MenuProps = {\n    PaperProps: {\n      style: {\n        maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n        width: 250,\n        backgroundColor: \"#fff\",\n        color: \"#000\"\n      }\n    }\n  };\n  const [applicant, setApplicant] = useState({\n    name: \"\",\n    roleDescription: \"\",\n    pageName: []\n  });\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const {\n    name,\n    roleDescription,\n    pageName\n  } = applicant;\n\n  const onChange = e => {\n    console.log(e.target.name);\n    setApplicant({ ...applicant,\n      [e.target.name]: e.target.value\n    });\n    console.log(applicant.pageName);\n\n    switch (e.target.name) {\n      case \"phone\":\n        if (!validatePhone(e.target.value)) {\n          setMobileErr(\"Please Enter Valid Phone number\");\n        } else {\n          setMobileErr(\"\");\n        }\n\n        break;\n\n      case \"email\":\n        if (!validateEmail(e.target.value)) {\n          setEmailErr(\"Please Enter Valid Email\");\n        } else {\n          setEmailErr(\"\");\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const onChangePrivilege = e => {\n    console.log(e.target.name);\n    const prv = e.target.value;\n    let tempArr = [];\n\n    if (e.target.checked) {\n      tempArr = applicant.pageName;\n      tempArr.push(prv);\n    } else {\n      tempArr = applicant.pageName;\n      const index = tempArr.indexOf(prv);\n      tempArr.splice(index, 1);\n    }\n\n    setApplicant({ ...applicant,\n      pageName: tempArr\n    });\n    console.log(applicant.pageName);\n  };\n\n  const addRoleButton = async e => {\n    e.preventDefault();\n\n    if (name === \"\" || roleDescription === \"\" || pageName.length === 0) {\n      alert(\"Please enter all fields\");\n    } else if (showEmailErr !== \"\" || showMobileErr !== \"\") {\n      console.log(\"Email or phone is wrong\");\n      return false;\n    } else {\n      setShowSpinner(true);\n      const res = await addRole({\n        role: name,\n        roleDescription: roleDescription,\n        permission_Arr: JSON.stringify({\n          privileges: pageName\n        })\n      });\n\n      if (res.status === 200) {\n        setShowSpinner(false);\n        swal(\"Success!\", \"Role Added\", \"success\").then(value => handleReset());\n      } else {\n        setShowSpinner(false);\n        console.log(res);\n        swal(\"Failed!\", \"Failed to create Role. Try Again!!!\", \"error\");\n      }\n    }\n  };\n\n  const editRoleButton = async e => {\n    e.preventDefault();\n\n    if (name === \"\" || roleDescription === \"\" || pageName.length === 0) {\n      alert(\"Please enter all fields\");\n    } else if (showEmailErr !== \"\" || showMobileErr !== \"\") {\n      console.log(\"Email or phone is wrong\");\n      return false;\n    } else {\n      setShowSpinner(true);\n      const res = await editRoleFromServer({ ...state.role,\n        role: name,\n        roleDescription: roleDescription,\n        permission_Arr: JSON.stringify({\n          privileges: pageName\n        })\n      });\n\n      if (res.status === 200) {\n        setShowSpinner(false);\n        swal(\"Success!\", \"Role Edited\", \"success\").then(value => history.push(\"/view-role\"));\n      } else {\n        setShowSpinner(false);\n        console.log(res);\n        swal(\"Failed!\", \"Failed to create Role. Try Again!!!\", \"error\");\n      }\n    }\n  }; // email validation\n\n\n  const validateEmail = email => {\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n  }; // phone validation\n\n\n  const validatePhone = mob => {\n    const re = /^[0-9]{10}$/;\n    return re.test(mob);\n  }; // custom button\n\n\n  const ColorButton = withStyles(theme => ({\n    root: {\n      backgroundColor: \"#FCBF00\",\n      \"&:hover\": {\n        backgroundColor: \"#FCBF00\"\n      }\n    }\n  }))(Button); // const classes = useStyles();\n\n  const bull = /*#__PURE__*/_jsxDEV(\"span\", {\n    className: classes.bullet,\n    children: \"\\u2022\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 312,\n    columnNumber: 16\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 316,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-5 pt-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row align-items-center justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: classes.root,\n            variant: \"outlined\",\n            children: [/*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h5\",\n                component: \"h2\",\n                children: isEdit ? \"Edit Role\" : \"Add Role\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                className: classes.form,\n                noValidate: true,\n                autoComplete: \"off\",\n                children: [/*#__PURE__*/_jsxDEV(TextField, {\n                  id: \"outlined-basic\",\n                  label: \" Role Name*\",\n                  name: \"name\",\n                  variant: \"outlined\",\n                  value: name,\n                  onChange: onChange,\n                  error: showTitleErr,\n                  helperText: showTitleErr && \"Please Enter Name\",\n                  style: {\n                    marginBottom: \"10px\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 326,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  id: \"outlined-basic\",\n                  label: \" Role Description*\",\n                  name: \"roleDescription\",\n                  variant: \"outlined\",\n                  value: roleDescription,\n                  onChange: onChange,\n                  error: showTitleErr,\n                  helperText: showTitleErr && \"Please Enter Description\",\n                  style: {\n                    marginBottom: \"10px\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 350,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                    style: {\n                      marginBottom: \"10px\"\n                    },\n                    children: \"Selected Privileges:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 353,\n                    columnNumber: 21\n                  }, this), applicant.pageName.map((value, index) => {\n                    return /*#__PURE__*/_jsxDEV(\"span\", {\n                      children: [value, \"; \"]\n                    }, index, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 355,\n                      columnNumber: 30\n                    }, this);\n                  })]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 352,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 325,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(Button, {\n                  variant: \"outlined\",\n                  color: \"primary\",\n                  onClick: handleClickOpen,\n                  children: \"Add Privileges\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 360,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(Dialog, {\n                  open: open,\n                  onClose: handleClose,\n                  \"aria-labelledby\": \"alert-dialog-title\",\n                  \"aria-describedby\": \"alert-dialog-description\",\n                  children: [/*#__PURE__*/_jsxDEV(DialogTitle, {\n                    id: \"alert-dialog-title\",\n                    children: \"Select Privileges\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 373,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(DialogContent, {\n                    children: Object.keys(permissions).map((page, index) => /*#__PURE__*/_jsxDEV(Accordion, {\n                      expanded: expanded === page,\n                      onChange: handleChangex(page),\n                      children: [/*#__PURE__*/_jsxDEV(AccordionSummary, {\n                        expandIcon: /*#__PURE__*/_jsxDEV(ExpandMoreIcon, {}, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 384,\n                          columnNumber: 41\n                        }, this),\n                        \"aria-controls\": \"panel2bh-content\",\n                        id: \"panel2bh-header\",\n                        children: /*#__PURE__*/_jsxDEV(Typography, {\n                          className: classes.heading,\n                          children: page\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 388,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 383,\n                        columnNumber: 27\n                      }, this), /*#__PURE__*/_jsxDEV(AccordionDetails, {\n                        children: /*#__PURE__*/_jsxDEV(FormGroup, {\n                          row: true,\n                          children: permissions[page].map(pagex => /*#__PURE__*/_jsxDEV(FormControlLabel, {\n                            control: /*#__PURE__*/_jsxDEV(Checkbox, {\n                              name: \"pageName\",\n                              value: pagex,\n                              checked: applicant.pageName.indexOf(pagex) > -1,\n                              onChange: onChangePrivilege\n                            }, void 0, false, {\n                              fileName: _jsxFileName,\n                              lineNumber: 398,\n                              columnNumber: 37\n                            }, this),\n                            label: pagex\n                          }, pagex, false, {\n                            fileName: _jsxFileName,\n                            lineNumber: 395,\n                            columnNumber: 33\n                          }, this))\n                        }, void 0, false, {\n                          fileName: _jsxFileName,\n                          lineNumber: 393,\n                          columnNumber: 29\n                        }, this)\n                      }, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 392,\n                        columnNumber: 27\n                      }, this)]\n                    }, page, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 378,\n                      columnNumber: 25\n                    }, this))\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 376,\n                    columnNumber: 21\n                  }, this), /*#__PURE__*/_jsxDEV(DialogActions, {\n                    children: [/*#__PURE__*/_jsxDEV(Button, {\n                      onClick: handleClose,\n                      color: \"primary\",\n                      children: \"Cancel\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 416,\n                      columnNumber: 23\n                    }, this), /*#__PURE__*/_jsxDEV(Button, {\n                      onClick: handleClose,\n                      color: \"primary\",\n                      autoFocus: true,\n                      children: \"Save\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 419,\n                      columnNumber: 23\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 415,\n                    columnNumber: 21\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 367,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 359,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 321,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: showSpinner ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginLeft: \"10px\",\n                    color: \"#ff0000\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                    children: \"Please DO NOT REFRESH the page...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 430,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(CircularProgress, {\n                  style: {\n                    color: \"#18D26E\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 432,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 439,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n              style: {\n                justifyContent: \"center\",\n                fontWeight: \"bold\"\n              },\n              children: /*#__PURE__*/_jsxDEV(ColorButton, {\n                variant: \"contained\",\n                color: \"primary\",\n                onClick: e => {\n                  console.log(\"Add User function\");\n\n                  if (isEdit) {\n                    editRoleButton(e);\n                  } else addRoleButton(e);\n                },\n                children: isEdit ? \"Edit Role\" : \" Add Role\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 445,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 442,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 320,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 318,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(AddRole, \"1uVnR8CfbALEaiIhkC8i9fPX3Z4=\", false, function () {\n  return [useLocation, useHistory, useStyles];\n});\n\n_c = AddRole;\nexport default AddRole;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddRole\");","map":{"version":3,"sources":["C:/Users/parve/Desktop/job portal cod/job-portal-react-main/src/components/employer/AddRole.jsx"],"names":["React","makeStyles","withStyles","ThemeProvider","createMuiTheme","Card","CardActions","CardContent","Button","Typography","TextField","Select","Input","clsx","CircularProgress","Checkbox","MenuItem","FormControl","InputLabel","ListItemText","TextareaAutosize","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","green","FormGroup","FormControlLabel","CheckBoxOutlineBlankIcon","CheckBoxIcon","Favorite","FavoriteBorder","Accordion","AccordionSummary","AccordionDetails","ExpandMoreIcon","Paper","Grid","useHistory","useState","useContext","useEffect","drawerCollapseable","permissions","Navbar","addRole","editRoleFromServer","useLocation","swal","useStyles","theme","root","borderRadius","padding","display","flexDirection","justifyContent","textAlign","boxShadow","form","margin","pos","marginTop","formControl","spacing","minWidth","maxWidth","selectEmpty","bullet","transform","title","fontSize","marginBottom","label","color","textField","errMsg","fontWeight","AddRole","props","showMobileErr","setMobileErr","showEmailErr","setEmailErr","showPassErr","setPassErr","location","isEdit","state","role","history","showSpinner","setShowSpinner","handleReset","window","reload","showTitleErr","setShowTitleErr","showDescErr","setShowDescErr","showLocationErr","setShowLocationErr","showQualErr","setShowQualErr","classes","expanded","setExpanded","setApplicant","name","roleDescription","pageName","JSON","parse","permission_Arr","handleChangex","panel","event","isExpanded","open","setOpen","ITEM_HEIGHT","ITEM_PADDING_TOP","MenuProps","PaperProps","style","maxHeight","width","backgroundColor","applicant","handleClickOpen","handleClose","onChange","e","console","log","target","value","validatePhone","validateEmail","onChangePrivilege","prv","tempArr","checked","push","index","indexOf","splice","addRoleButton","preventDefault","length","alert","res","stringify","privileges","status","then","editRoleButton","email","re","test","mob","ColorButton","bull","map","Object","keys","page","heading","pagex","marginLeft"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,aAAT,EAAwBC,cAAxB,QAA8C,0BAA9C;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACA,SAASC,gBAAT,QAAiC,mBAAjC;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,YAAP,MAAyB,gCAAzB;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,MAAP,MAAmB,0BAAnB;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,aAAP,MAA0B,iCAA1B;AACA,OAAOC,iBAAP,MAA8B,qCAA9B;AACA,OAAOC,WAAP,MAAwB,+BAAxB;AACA,SAASC,KAAT,QAAsB,0BAAtB;AACA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,wBAAP,MAAqC,yCAArC;AACA,OAAOC,YAAP,MAAyB,6BAAzB;AACA,OAAOC,QAAP,MAAqB,6BAArB;AACA,OAAOC,cAAP,MAA2B,mCAA3B;AAEA,OAAOC,SAAP,MAAsB,6BAAtB;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,gBAAP,MAA6B,oCAA7B;AACA,OAAOC,cAAP,MAA2B,+BAA3B;AAEA,OAAOC,KAAP,MAAkB,yBAAlB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AAEA,SAASC,UAAT,QAA2B,cAA3B;AACA,SAASC,QAAT,EAAmBC,UAAnB,EAA+BC,SAA/B,QAAgD,OAAhD;AACA,SAASC,kBAAT,EAA6BC,WAA7B,QAAgD,wBAAhD;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,OAAT,EAAkBC,kBAAlB,QAA4C,mCAA5C;AACA,SAASC,WAAT,QAA4B,kBAA5B;AACA,OAAOC,IAAP,MAAiB,YAAjB;;;AAEA,MAAMC,SAAS,GAAGjD,UAAU,CAAEkD,KAAD,KAAY;AACvCC,EAAAA,IAAI,EAAE;AACJ;AACA;AACAC,IAAAA,YAAY,EAAE,MAHV;AAIJC,IAAAA,OAAO,EAAE,MAJL;AAKJC,IAAAA,OAAO,EAAE,MALL;AAMJC,IAAAA,aAAa,EAAE,QANX;AAOJC,IAAAA,cAAc,EAAE,QAPZ;AAQJC,IAAAA,SAAS,EAAE,QARP;AASJC,IAAAA,SAAS,EAAE;AATP,GADiC;AAYvCC,EAAAA,IAAI,EAAE;AACJC,IAAAA,MAAM,EAAE,qBADJ;AAEJR,IAAAA,YAAY,EAAE,MAFV;AAGJC,IAAAA,OAAO,EAAE,MAHL;AAIJC,IAAAA,OAAO,EAAE,MAJL;AAKJC,IAAAA,aAAa,EAAE,QALX;AAMJC,IAAAA,cAAc,EAAE,QANZ;AAOJC,IAAAA,SAAS,EAAE;AAPP,GAZiC;AAqBvCI,EAAAA,GAAG,EAAE;AACHC,IAAAA,SAAS,EAAE;AADR,GArBkC;AAyBvCC,EAAAA,WAAW,EAAE;AACXH,IAAAA,MAAM,EAAEV,KAAK,CAACc,OAAN,CAAc,CAAd,CADG;AAEXC,IAAAA,QAAQ,EAAE,GAFC;AAGXC,IAAAA,QAAQ,EAAE;AAHC,GAzB0B;AA8BvCC,EAAAA,WAAW,EAAE;AACXL,IAAAA,SAAS,EAAEZ,KAAK,CAACc,OAAN,CAAc,CAAd;AADA,GA9B0B;AAiCvCI,EAAAA,MAAM,EAAE;AACNd,IAAAA,OAAO,EAAE,cADH;AAENM,IAAAA,MAAM,EAAE,OAFF;AAGNS,IAAAA,SAAS,EAAE;AAHL,GAjC+B;AAsCvCC,EAAAA,KAAK,EAAE;AACLC,IAAAA,QAAQ,EAAE;AADL,GAtCgC;AAyCvCV,EAAAA,GAAG,EAAE;AACHW,IAAAA,YAAY,EAAE;AADX,GAzCkC;AA4CvCC,EAAAA,KAAK,EAAE;AACLC,IAAAA,KAAK,EAAE;AADF,GA5CgC;AAgDvCC,EAAAA,SAAS,EAAE;AACT,6BAAyB;AACvBD,MAAAA,KAAK,EAAE;AADgB;AADhB,GAhD4B;AAsDvCE,EAAAA,MAAM,EAAE;AACNF,IAAAA,KAAK,EAAE,KADD;AAENG,IAAAA,UAAU,EAAE,MAFN;AAGNN,IAAAA,QAAQ,EAAE,OAHJ;AAINC,IAAAA,YAAY,EAAE,MAJR;AAKNf,IAAAA,SAAS,EAAE;AALL;AAtD+B,CAAZ,CAAD,CAA5B;;AA+DA,MAAMqB,OAAO,GAAIC,KAAD,IAAW;AAAA;;AACzB,QAAM,CAACC,aAAD,EAAgBC,YAAhB,IAAgC1C,QAAQ,CAAC,EAAD,CAA9C;AACA,QAAM,CAAC2C,YAAD,EAAeC,WAAf,IAA8B5C,QAAQ,CAAC,EAAD,CAA5C;AACA,QAAM,CAAC6C,WAAD,EAAcC,UAAd,IAA4B9C,QAAQ,CAAC,EAAD,CAA1C;AACA,MAAI+C,QAAQ,GAAGvC,WAAW,EAA1B;AACA,MAAIwC,MAAM,GAAG,KAAb;AAAA,MACEC,KAAK,GAAGF,QAAQ,CAACE,KADnB;;AAEA,MAAIA,KAAK,IAAIA,KAAK,CAACC,IAAnB,EAAyB;AACvB;AACAF,IAAAA,MAAM,GAAG,IAAT;AACD;;AACD,MAAIG,OAAO,GAAGpD,UAAU,EAAxB;AACA,QAAM,CAACqD,WAAD,EAAcC,cAAd,IAAgC7F,KAAK,CAACwC,QAAN,CAAe,KAAf,CAAtC;;AACA,QAAMsD,WAAW,GAAG,MAAM;AACxBC,IAAAA,MAAM,CAACR,QAAP,CAAgBS,MAAhB;AACD,GAFD,CAbyB,CAiBzB;;;AACA,QAAM,CAACC,YAAD,EAAeC,eAAf,IAAkClG,KAAK,CAACwC,QAAN,CAAe,KAAf,CAAxC;AACA,QAAM,CAAC2D,WAAD,EAAcC,cAAd,IAAgCpG,KAAK,CAACwC,QAAN,CAAe,KAAf,CAAtC;AACA,QAAM,CAAC6D,eAAD,EAAkBC,kBAAlB,IAAwCtG,KAAK,CAACwC,QAAN,CAAe,KAAf,CAA9C;AACA,QAAM,CAAC+D,WAAD,EAAcC,cAAd,IAAgCxG,KAAK,CAACwC,QAAN,CAAe,KAAf,CAAtC;AAEA,QAAMiE,OAAO,GAAGvD,SAAS,EAAzB;AACA,QAAM,CAACwD,QAAD,EAAWC,WAAX,IAA0B3G,KAAK,CAACwC,QAAN,CAAe,KAAf,CAAhC;AAEAE,EAAAA,SAAS,CAAC,MAAM;AACd,QAAI8C,MAAJ,EAAY;AACVoB,MAAAA,YAAY,CAAC;AACXC,QAAAA,IAAI,EAAEpB,KAAK,CAACC,IAAN,CAAWA,IADN;AAEXoB,QAAAA,eAAe,EAAErB,KAAK,CAACC,IAAN,CAAWoB,eAFjB;AAGXC,QAAAA,QAAQ,EAAEC,IAAI,CAACC,KAAL,CAAWxB,KAAK,CAACC,IAAN,CAAWwB,cAAtB,EAAsC,YAAtC;AAHC,OAAD,CAAZ;AAKD;AACF,GARQ,EAQN,EARM,CAAT;;AAUA,QAAMC,aAAa,GAAIC,KAAD,IAAW,CAACC,KAAD,EAAQC,UAAR,KAAuB;AACtDX,IAAAA,WAAW,CAACW,UAAU,GAAGF,KAAH,GAAW,KAAtB,CAAX;AACD,GAFD,CApCyB,CAwCzB;;;AACA,QAAM,CAACG,IAAD,EAAOC,OAAP,IAAkBxH,KAAK,CAACwC,QAAN,CAAe,KAAf,CAAxB;AAEA,QAAMiF,WAAW,GAAG,EAApB;AACA,QAAMC,gBAAgB,GAAG,CAAzB;AAEA,QAAMC,SAAS,GAAG;AAChBC,IAAAA,UAAU,EAAE;AACVC,MAAAA,KAAK,EAAE;AACLC,QAAAA,SAAS,EAAEL,WAAW,GAAG,GAAd,GAAoBC,gBAD1B;AAELK,QAAAA,KAAK,EAAE,GAFF;AAGLC,QAAAA,eAAe,EAAE,MAHZ;AAILrD,QAAAA,KAAK,EAAE;AAJF;AADG;AADI,GAAlB;AAWA,QAAM,CAACsD,SAAD,EAAYrB,YAAZ,IAA4BpE,QAAQ,CAAC;AACzCqE,IAAAA,IAAI,EAAE,EADmC;AAEzCC,IAAAA,eAAe,EAAE,EAFwB;AAGzCC,IAAAA,QAAQ,EAAE;AAH+B,GAAD,CAA1C;;AAMA,QAAMmB,eAAe,GAAG,MAAM;AAC5BV,IAAAA,OAAO,CAAC,IAAD,CAAP;AACD,GAFD;;AAIA,QAAMW,WAAW,GAAG,MAAM;AACxBX,IAAAA,OAAO,CAAC,KAAD,CAAP;AACD,GAFD;;AAGA,QAAM;AAAEX,IAAAA,IAAF;AAAQC,IAAAA,eAAR;AAAyBC,IAAAA;AAAzB,MAAsCkB,SAA5C;;AAEA,QAAMG,QAAQ,GAAIC,CAAD,IAAO;AACtBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAF,CAAS3B,IAArB;AACAD,IAAAA,YAAY,CAAC,EAAE,GAAGqB,SAAL;AAAgB,OAACI,CAAC,CAACG,MAAF,CAAS3B,IAAV,GAAiBwB,CAAC,CAACG,MAAF,CAASC;AAA1C,KAAD,CAAZ;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAYN,SAAS,CAAClB,QAAtB;;AACA,YAAQsB,CAAC,CAACG,MAAF,CAAS3B,IAAjB;AACE,WAAK,OAAL;AACE,YAAI,CAAC6B,aAAa,CAACL,CAAC,CAACG,MAAF,CAASC,KAAV,CAAlB,EAAoC;AAClCvD,UAAAA,YAAY,CAAC,iCAAD,CAAZ;AACD,SAFD,MAEO;AACLA,UAAAA,YAAY,CAAC,EAAD,CAAZ;AACD;;AACD;;AAEF,WAAK,OAAL;AACE,YAAI,CAACyD,aAAa,CAACN,CAAC,CAACG,MAAF,CAASC,KAAV,CAAlB,EAAoC;AAClCrD,UAAAA,WAAW,CAAC,0BAAD,CAAX;AACD,SAFD,MAEO;AACLA,UAAAA,WAAW,CAAC,EAAD,CAAX;AACD;;AACD;;AAEF;AACE;AAlBJ;AAoBD,GAxBD;;AA0BA,QAAMwD,iBAAiB,GAAIP,CAAD,IAAO;AAC/BC,IAAAA,OAAO,CAACC,GAAR,CAAYF,CAAC,CAACG,MAAF,CAAS3B,IAArB;AACA,UAAMgC,GAAG,GAAGR,CAAC,CAACG,MAAF,CAASC,KAArB;AACA,QAAIK,OAAO,GAAG,EAAd;;AACA,QAAIT,CAAC,CAACG,MAAF,CAASO,OAAb,EAAsB;AACpBD,MAAAA,OAAO,GAAGb,SAAS,CAAClB,QAApB;AACA+B,MAAAA,OAAO,CAACE,IAAR,CAAaH,GAAb;AACD,KAHD,MAGO;AACLC,MAAAA,OAAO,GAAGb,SAAS,CAAClB,QAApB;AACA,YAAMkC,KAAK,GAAGH,OAAO,CAACI,OAAR,CAAgBL,GAAhB,CAAd;AACAC,MAAAA,OAAO,CAACK,MAAR,CAAeF,KAAf,EAAsB,CAAtB;AACD;;AAEDrC,IAAAA,YAAY,CAAC,EAAE,GAAGqB,SAAL;AAAgBlB,MAAAA,QAAQ,EAAE+B;AAA1B,KAAD,CAAZ;AAEAR,IAAAA,OAAO,CAACC,GAAR,CAAYN,SAAS,CAAClB,QAAtB;AACD,GAhBD;;AAkBA,QAAMqC,aAAa,GAAG,MAAOf,CAAP,IAAa;AACjCA,IAAAA,CAAC,CAACgB,cAAF;;AAEA,QAAIxC,IAAI,KAAK,EAAT,IAAeC,eAAe,KAAK,EAAnC,IAAyCC,QAAQ,CAACuC,MAAT,KAAoB,CAAjE,EAAoE;AAClEC,MAAAA,KAAK,CAAC,yBAAD,CAAL;AACD,KAFD,MAEO,IAAIpE,YAAY,KAAK,EAAjB,IAAuBF,aAAa,KAAK,EAA7C,EAAiD;AACtDqD,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACA,aAAO,KAAP;AACD,KAHM,MAGA;AACL1C,MAAAA,cAAc,CAAC,IAAD,CAAd;AACA,YAAM2D,GAAG,GAAG,MAAM1G,OAAO,CAAC;AACxB4C,QAAAA,IAAI,EAAEmB,IADkB;AAExBC,QAAAA,eAAe,EAAEA,eAFO;AAGxBI,QAAAA,cAAc,EAAEF,IAAI,CAACyC,SAAL,CAAe;AAAEC,UAAAA,UAAU,EAAE3C;AAAd,SAAf;AAHQ,OAAD,CAAzB;;AAMA,UAAIyC,GAAG,CAACG,MAAJ,KAAe,GAAnB,EAAwB;AACtB9D,QAAAA,cAAc,CAAC,KAAD,CAAd;AACA5C,QAAAA,IAAI,CAAC,UAAD,EAAa,YAAb,EAA2B,SAA3B,CAAJ,CAA0C2G,IAA1C,CAAgDnB,KAAD,IAC7C3C,WAAW,EADb;AAGD,OALD,MAKO;AACLD,QAAAA,cAAc,CAAC,KAAD,CAAd;AACAyC,QAAAA,OAAO,CAACC,GAAR,CAAYiB,GAAZ;AACAvG,QAAAA,IAAI,CAAC,SAAD,EAAY,qCAAZ,EAAmD,OAAnD,CAAJ;AACD;AACF;AACF,GA3BD;;AA6BA,QAAM4G,cAAc,GAAG,MAAOxB,CAAP,IAAa;AAClCA,IAAAA,CAAC,CAACgB,cAAF;;AAEA,QAAIxC,IAAI,KAAK,EAAT,IAAeC,eAAe,KAAK,EAAnC,IAAyCC,QAAQ,CAACuC,MAAT,KAAoB,CAAjE,EAAoE;AAClEC,MAAAA,KAAK,CAAC,yBAAD,CAAL;AACD,KAFD,MAEO,IAAIpE,YAAY,KAAK,EAAjB,IAAuBF,aAAa,KAAK,EAA7C,EAAiD;AACtDqD,MAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACA,aAAO,KAAP;AACD,KAHM,MAGA;AACL1C,MAAAA,cAAc,CAAC,IAAD,CAAd;AACA,YAAM2D,GAAG,GAAG,MAAMzG,kBAAkB,CAAC,EACnC,GAAG0C,KAAK,CAACC,IAD0B;AAEnCA,QAAAA,IAAI,EAAEmB,IAF6B;AAGnCC,QAAAA,eAAe,EAAEA,eAHkB;AAInCI,QAAAA,cAAc,EAAEF,IAAI,CAACyC,SAAL,CAAe;AAAEC,UAAAA,UAAU,EAAE3C;AAAd,SAAf;AAJmB,OAAD,CAApC;;AAOA,UAAIyC,GAAG,CAACG,MAAJ,KAAe,GAAnB,EAAwB;AACtB9D,QAAAA,cAAc,CAAC,KAAD,CAAd;AACA5C,QAAAA,IAAI,CAAC,UAAD,EAAa,aAAb,EAA4B,SAA5B,CAAJ,CAA2C2G,IAA3C,CAAiDnB,KAAD,IAC9C9C,OAAO,CAACqD,IAAR,CAAa,YAAb,CADF;AAGD,OALD,MAKO;AACLnD,QAAAA,cAAc,CAAC,KAAD,CAAd;AACAyC,QAAAA,OAAO,CAACC,GAAR,CAAYiB,GAAZ;AACAvG,QAAAA,IAAI,CAAC,SAAD,EAAY,qCAAZ,EAAmD,OAAnD,CAAJ;AACD;AACF;AACF,GA5BD,CAjJyB,CA+KzB;;;AACA,QAAM0F,aAAa,GAAImB,KAAD,IAAW;AAC/B,UAAMC,EAAE,GACN,2JADF;AAEA,WAAOA,EAAE,CAACC,IAAH,CAAQF,KAAR,CAAP;AACD,GAJD,CAhLyB,CAqLzB;;;AACA,QAAMpB,aAAa,GAAIuB,GAAD,IAAS;AAC7B,UAAMF,EAAE,GAAG,aAAX;AACA,WAAOA,EAAE,CAACC,IAAH,CAAQC,GAAR,CAAP;AACD,GAHD,CAtLyB,CA2LzB;;;AAEA,QAAMC,WAAW,GAAGhK,UAAU,CAAEiD,KAAD,KAAY;AACzCC,IAAAA,IAAI,EAAE;AACJ4E,MAAAA,eAAe,EAAE,SADb;AAEJ,iBAAW;AACTA,QAAAA,eAAe,EAAE;AADR;AAFP;AADmC,GAAZ,CAAD,CAAV,CAOhBxH,MAPgB,CAApB,CA7LyB,CAsMzB;;AACA,QAAM2J,IAAI,gBAAG;AAAM,IAAA,SAAS,EAAE1D,OAAO,CAACpC,MAAzB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAb;;AAEA,sBACE;AAAA,4BACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,YADF,eAEE;AAAK,MAAA,SAAS,EAAC,qBAAf;AAAA,6BACE;AAAK,QAAA,SAAS,EAAC,+CAAf;AAAA,+BACE;AAAK,UAAA,SAAS,EAAC,iBAAf;AAAA,iCACE,QAAC,IAAD;AAAM,YAAA,SAAS,EAAEoC,OAAO,CAACrD,IAAzB;AAA+B,YAAA,OAAO,EAAC,UAAvC;AAAA,oCACE,QAAC,WAAD;AAAA,sCACE,QAAC,UAAD;AAAY,gBAAA,OAAO,EAAC,IAApB;AAAyB,gBAAA,SAAS,EAAC,IAAnC;AAAA,0BACGoC,MAAM,GAAG,WAAH,GAAiB;AAD1B;AAAA;AAAA;AAAA;AAAA,sBADF,eAIE;AAAM,gBAAA,SAAS,EAAEiB,OAAO,CAAC7C,IAAzB;AAA+B,gBAAA,UAAU,MAAzC;AAA0C,gBAAA,YAAY,EAAC,KAAvD;AAAA,wCACE,QAAC,SAAD;AACE,kBAAA,EAAE,EAAC,gBADL;AAEE,kBAAA,KAAK,EAAC,aAFR;AAGE,kBAAA,IAAI,EAAC,MAHP;AAIE,kBAAA,OAAO,EAAC,UAJV;AAKE,kBAAA,KAAK,EAAEiD,IALT;AAME,kBAAA,QAAQ,EAAEuB,QANZ;AAOE,kBAAA,KAAK,EAAEnC,YAPT;AAQE,kBAAA,UAAU,EAAEA,YAAY,IAAI,mBAR9B;AASE,kBAAA,KAAK,EAAE;AAAExB,oBAAAA,YAAY,EAAE;AAAhB;AATT;AAAA;AAAA;AAAA;AAAA,wBADF,eAaE,QAAC,SAAD;AACE,kBAAA,EAAE,EAAC,gBADL;AAEE,kBAAA,KAAK,EAAC,oBAFR;AAGE,kBAAA,IAAI,EAAC,iBAHP;AAIE,kBAAA,OAAO,EAAC,UAJV;AAKE,kBAAA,KAAK,EAAEqC,eALT;AAME,kBAAA,QAAQ,EAAEsB,QANZ;AAOE,kBAAA,KAAK,EAAEnC,YAPT;AAQE,kBAAA,UAAU,EAAEA,YAAY,IAAI,0BAR9B;AASE,kBAAA,KAAK,EAAE;AAAExB,oBAAAA,YAAY,EAAE;AAAhB;AATT;AAAA;AAAA;AAAA;AAAA,wBAbF,eAyBE;AAAA;AAAA;AAAA;AAAA,wBAzBF,eA2BE;AAAA,0CACE;AAAG,oBAAA,KAAK,EAAE;AAAEA,sBAAAA,YAAY,EAAE;AAAhB,qBAAV;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADF,EAEGwD,SAAS,CAAClB,QAAV,CAAmBqD,GAAnB,CAAuB,CAAC3B,KAAD,EAAQQ,KAAR,KAAkB;AACxC,wCAAO;AAAA,iCAAmBR,KAAnB;AAAA,uBAAWQ,KAAX;AAAA;AAAA;AAAA;AAAA,4BAAP;AACD,mBAFA,CAFH;AAAA;AAAA;AAAA;AAAA;AAAA,wBA3BF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAJF,eAsCE;AAAA,wCACE,QAAC,MAAD;AACE,kBAAA,OAAO,EAAC,UADV;AAEE,kBAAA,KAAK,EAAC,SAFR;AAGE,kBAAA,OAAO,EAAEf,eAHX;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,wBADF,eAQE,QAAC,MAAD;AACE,kBAAA,IAAI,EAAEX,IADR;AAEE,kBAAA,OAAO,EAAEY,WAFX;AAGE,qCAAgB,oBAHlB;AAIE,sCAAiB,0BAJnB;AAAA,0CAME,QAAC,WAAD;AAAa,oBAAA,EAAE,EAAC,oBAAhB;AAAA,8BACG;AADH;AAAA;AAAA;AAAA;AAAA,0BANF,eASE,QAAC,aAAD;AAAA,8BACGkC,MAAM,CAACC,IAAP,CAAY1H,WAAZ,EAAyBwH,GAAzB,CAA6B,CAACG,IAAD,EAAOtB,KAAP,kBAC5B,QAAC,SAAD;AACE,sBAAA,QAAQ,EAAEvC,QAAQ,KAAK6D,IADzB;AAEE,sBAAA,QAAQ,EAAEpD,aAAa,CAACoD,IAAD,CAFzB;AAAA,8CAKE,QAAC,gBAAD;AACE,wBAAA,UAAU,eAAE,QAAC,cAAD;AAAA;AAAA;AAAA;AAAA,gCADd;AAEE,yCAAc,kBAFhB;AAGE,wBAAA,EAAE,EAAC,iBAHL;AAAA,+CAKE,QAAC,UAAD;AAAY,0BAAA,SAAS,EAAE9D,OAAO,CAAC+D,OAA/B;AAAA,oCACGD;AADH;AAAA;AAAA;AAAA;AAAA;AALF;AAAA;AAAA;AAAA;AAAA,8BALF,eAcE,QAAC,gBAAD;AAAA,+CACE,QAAC,SAAD;AAAW,0BAAA,GAAG,MAAd;AAAA,oCACG3H,WAAW,CAAC2H,IAAD,CAAX,CAAkBH,GAAlB,CAAuBK,KAAD,iBACrB,QAAC,gBAAD;AAEE,4BAAA,OAAO,eACL,QAAC,QAAD;AACE,8BAAA,IAAI,EAAC,UADP;AAEE,8BAAA,KAAK,EAAEA,KAFT;AAGE,8BAAA,OAAO,EACLxC,SAAS,CAAClB,QAAV,CAAmBmC,OAAnB,CAA2BuB,KAA3B,IAAoC,CAAC,CAJzC;AAME,8BAAA,QAAQ,EAAE7B;AANZ;AAAA;AAAA;AAAA;AAAA,oCAHJ;AAYE,4BAAA,KAAK,EAAE6B;AAZT,6BACOA,KADP;AAAA;AAAA;AAAA;AAAA,kCADD;AADH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,8BAdF;AAAA,uBAGOF,IAHP;AAAA;AAAA;AAAA;AAAA,4BADD;AADH;AAAA;AAAA;AAAA;AAAA,0BATF,eAgDE,QAAC,aAAD;AAAA,4CACE,QAAC,MAAD;AAAQ,sBAAA,OAAO,EAAEpC,WAAjB;AAA8B,sBAAA,KAAK,EAAC,SAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BADF,eAIE,QAAC,MAAD;AAAQ,sBAAA,OAAO,EAAEA,WAAjB;AAA8B,sBAAA,KAAK,EAAC,SAApC;AAA8C,sBAAA,SAAS,MAAvD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,4BAJF;AAAA;AAAA;AAAA;AAAA;AAAA,0BAhDF;AAAA;AAAA;AAAA;AAAA;AAAA,wBARF;AAAA;AAAA;AAAA;AAAA;AAAA,sBAtCF;AAAA;AAAA;AAAA;AAAA;AAAA,oBADF,eA0GE;AAAA,wBACGvC,WAAW,gBACV;AAAA,wCACE;AAAM,kBAAA,KAAK,EAAE;AAAE8E,oBAAAA,UAAU,EAAE,MAAd;AAAsB/F,oBAAAA,KAAK,EAAE;AAA7B,mBAAb;AAAA,yCACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,wBADF,eAIE,QAAC,gBAAD;AACE,kBAAA,KAAK,EAAE;AACLA,oBAAAA,KAAK,EAAE;AADF;AADT;AAAA;AAAA;AAAA;AAAA,wBAJF;AAAA;AAAA;AAAA;AAAA;AAAA,sBADU,gBAYV;AAAA;AAAA;AAAA;AAAA;AAbJ;AAAA;AAAA;AAAA;AAAA,oBA1GF,eA0HE,QAAC,WAAD;AACE,cAAA,KAAK,EAAE;AAAElB,gBAAAA,cAAc,EAAE,QAAlB;AAA4BqB,gBAAAA,UAAU,EAAE;AAAxC,eADT;AAAA,qCAGE,QAAC,WAAD;AACE,gBAAA,OAAO,EAAC,WADV;AAEE,gBAAA,KAAK,EAAC,SAFR;AAGE,gBAAA,OAAO,EAAGuD,CAAD,IAAO;AACdC,kBAAAA,OAAO,CAACC,GAAR,CAAY,mBAAZ;;AACA,sBAAI/C,MAAJ,EAAY;AACVqE,oBAAAA,cAAc,CAACxB,CAAD,CAAd;AACD,mBAFD,MAEOe,aAAa,CAACf,CAAD,CAAb;AACR,iBARH;AAAA,0BAUG7C,MAAM,GAAG,WAAH,GAAiB;AAV1B;AAAA;AAAA;AAAA;AAAA;AAHF;AAAA;AAAA;AAAA;AAAA,oBA1HF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA,kBADF;AAsJD,CA/VD;;GAAMT,O;UAIW/B,W,EAODT,U,EAYEW,S;;;KAvBZ6B,O;AAiWN,eAAeA,OAAf","sourcesContent":["import React from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport { ThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\r\nimport Card from \"@material-ui/core/Card\";\r\nimport CardActions from \"@material-ui/core/CardActions\";\r\nimport CardContent from \"@material-ui/core/CardContent\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Input from \"@material-ui/core/Input\";\r\nimport clsx from \"clsx\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport TextareaAutosize from \"@material-ui/core/TextareaAutosize\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport FormGroup from \"@material-ui/core/FormGroup\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\r\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\r\nimport Favorite from \"@material-ui/icons/Favorite\";\r\nimport FavoriteBorder from \"@material-ui/icons/FavoriteBorder\";\r\n\r\nimport Accordion from \"@material-ui/core/Accordion\";\r\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\r\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport { useHistory } from \"react-router\";\r\nimport { useState, useContext, useEffect } from \"react\";\r\nimport { drawerCollapseable, permissions } from \"../../Common/Constants\";\r\nimport Navbar from \"./Navbar\";\r\nimport { addRole, editRoleFromServer } from \"../../Backend/sendRequestToServer\";\r\nimport { useLocation } from \"react-router-dom\";\r\nimport swal from \"sweetalert\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    // minWidth: 275,\r\n    // margin: \"15px 15px 15px 15px\",\r\n    borderRadius: \"10px\",\r\n    padding: \"12px\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    textAlign: \"center\",\r\n    boxShadow: \"0 5px 10px rgba(0,0,0,0.19), 0 3px 3px rgba(0,0,0,0.21)\",\r\n  },\r\n  form: {\r\n    margin: \"15px 15px 15px 15px\",\r\n    borderRadius: \"10px\",\r\n    padding: \"12px\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    justifyContent: \"center\",\r\n    textAlign: \"center\",\r\n  },\r\n  pos: {\r\n    marginTop: 20,\r\n  },\r\n\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n    maxWidth: 300,\r\n  },\r\n  selectEmpty: {\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  bullet: {\r\n    display: \"inline-block\",\r\n    margin: \"0 2px\",\r\n    transform: \"scale(0.8)\",\r\n  },\r\n  title: {\r\n    fontSize: 14,\r\n  },\r\n  pos: {\r\n    marginBottom: 12,\r\n  },\r\n  label: {\r\n    color: \"#000\",\r\n  },\r\n\r\n  textField: {\r\n    \"& .MuiInputBase-input\": {\r\n      color: \"#000\",\r\n    },\r\n  },\r\n\r\n  errMsg: {\r\n    color: \"red\",\r\n    fontWeight: \"bold\",\r\n    fontSize: \"small\",\r\n    marginBottom: \"10px\",\r\n    textAlign: \"left\",\r\n  },\r\n}));\r\n\r\nconst AddRole = (props) => {\r\n  const [showMobileErr, setMobileErr] = useState(\"\");\r\n  const [showEmailErr, setEmailErr] = useState(\"\");\r\n  const [showPassErr, setPassErr] = useState(\"\");\r\n  let location = useLocation();\r\n  let isEdit = false,\r\n    state = location.state;\r\n  if (state && state.role) {\r\n    // console.log(state.role);\r\n    isEdit = true;\r\n  }\r\n  let history = useHistory();\r\n  const [showSpinner, setShowSpinner] = React.useState(false);\r\n  const handleReset = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  // feild empty err hooks\r\n  const [showTitleErr, setShowTitleErr] = React.useState(false);\r\n  const [showDescErr, setShowDescErr] = React.useState(false);\r\n  const [showLocationErr, setShowLocationErr] = React.useState(false);\r\n  const [showQualErr, setShowQualErr] = React.useState(false);\r\n\r\n  const classes = useStyles();\r\n  const [expanded, setExpanded] = React.useState(false);\r\n\r\n  useEffect(() => {\r\n    if (isEdit) {\r\n      setApplicant({\r\n        name: state.role.role,\r\n        roleDescription: state.role.roleDescription,\r\n        pageName: JSON.parse(state.role.permission_Arr)[\"privileges\"],\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  const handleChangex = (panel) => (event, isExpanded) => {\r\n    setExpanded(isExpanded ? panel : false);\r\n  };\r\n\r\n  //priviledges dialog\r\n  const [open, setOpen] = React.useState(false);\r\n\r\n  const ITEM_HEIGHT = 48;\r\n  const ITEM_PADDING_TOP = 8;\r\n\r\n  const MenuProps = {\r\n    PaperProps: {\r\n      style: {\r\n        maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n        width: 250,\r\n        backgroundColor: \"#fff\",\r\n        color: \"#000\",\r\n      },\r\n    },\r\n  };\r\n\r\n  const [applicant, setApplicant] = useState({\r\n    name: \"\",\r\n    roleDescription: \"\",\r\n    pageName: [],\r\n  });\r\n\r\n  const handleClickOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpen(false);\r\n  };\r\n  const { name, roleDescription, pageName } = applicant;\r\n\r\n  const onChange = (e) => {\r\n    console.log(e.target.name);\r\n    setApplicant({ ...applicant, [e.target.name]: e.target.value });\r\n    console.log(applicant.pageName);\r\n    switch (e.target.name) {\r\n      case \"phone\":\r\n        if (!validatePhone(e.target.value)) {\r\n          setMobileErr(\"Please Enter Valid Phone number\");\r\n        } else {\r\n          setMobileErr(\"\");\r\n        }\r\n        break;\r\n\r\n      case \"email\":\r\n        if (!validateEmail(e.target.value)) {\r\n          setEmailErr(\"Please Enter Valid Email\");\r\n        } else {\r\n          setEmailErr(\"\");\r\n        }\r\n        break;\r\n\r\n      default:\r\n        break;\r\n    }\r\n  };\r\n\r\n  const onChangePrivilege = (e) => {\r\n    console.log(e.target.name);\r\n    const prv = e.target.value;\r\n    let tempArr = [];\r\n    if (e.target.checked) {\r\n      tempArr = applicant.pageName;\r\n      tempArr.push(prv);\r\n    } else {\r\n      tempArr = applicant.pageName;\r\n      const index = tempArr.indexOf(prv);\r\n      tempArr.splice(index, 1);\r\n    }\r\n\r\n    setApplicant({ ...applicant, pageName: tempArr });\r\n\r\n    console.log(applicant.pageName);\r\n  };\r\n\r\n  const addRoleButton = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (name === \"\" || roleDescription === \"\" || pageName.length === 0) {\r\n      alert(\"Please enter all fields\");\r\n    } else if (showEmailErr !== \"\" || showMobileErr !== \"\") {\r\n      console.log(\"Email or phone is wrong\");\r\n      return false;\r\n    } else {\r\n      setShowSpinner(true);\r\n      const res = await addRole({\r\n        role: name,\r\n        roleDescription: roleDescription,\r\n        permission_Arr: JSON.stringify({ privileges: pageName }),\r\n      });\r\n\r\n      if (res.status === 200) {\r\n        setShowSpinner(false);\r\n        swal(\"Success!\", \"Role Added\", \"success\").then((value) =>\r\n          handleReset()\r\n        );\r\n      } else {\r\n        setShowSpinner(false);\r\n        console.log(res);\r\n        swal(\"Failed!\", \"Failed to create Role. Try Again!!!\", \"error\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const editRoleButton = async (e) => {\r\n    e.preventDefault();\r\n\r\n    if (name === \"\" || roleDescription === \"\" || pageName.length === 0) {\r\n      alert(\"Please enter all fields\");\r\n    } else if (showEmailErr !== \"\" || showMobileErr !== \"\") {\r\n      console.log(\"Email or phone is wrong\");\r\n      return false;\r\n    } else {\r\n      setShowSpinner(true);\r\n      const res = await editRoleFromServer({\r\n        ...state.role,\r\n        role: name,\r\n        roleDescription: roleDescription,\r\n        permission_Arr: JSON.stringify({ privileges: pageName }),\r\n      });\r\n\r\n      if (res.status === 200) {\r\n        setShowSpinner(false);\r\n        swal(\"Success!\", \"Role Edited\", \"success\").then((value) =>\r\n          history.push(\"/view-role\")\r\n        );\r\n      } else {\r\n        setShowSpinner(false);\r\n        console.log(res);\r\n        swal(\"Failed!\", \"Failed to create Role. Try Again!!!\", \"error\");\r\n      }\r\n    }\r\n  };\r\n\r\n  // email validation\r\n  const validateEmail = (email) => {\r\n    const re =\r\n      /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\r\n    return re.test(email);\r\n  };\r\n  // phone validation\r\n  const validatePhone = (mob) => {\r\n    const re = /^[0-9]{10}$/;\r\n    return re.test(mob);\r\n  };\r\n\r\n  // custom button\r\n\r\n  const ColorButton = withStyles((theme) => ({\r\n    root: {\r\n      backgroundColor: \"#FCBF00\",\r\n      \"&:hover\": {\r\n        backgroundColor: \"#FCBF00\",\r\n      },\r\n    },\r\n  }))(Button);\r\n\r\n  // const classes = useStyles();\r\n  const bull = <span className={classes.bullet}>â€¢</span>;\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className=\"container mt-5 pt-5\">\r\n        <div className=\"row align-items-center justify-content-center\">\r\n          <div className=\"col-12 col-md-6\">\r\n            <Card className={classes.root} variant=\"outlined\">\r\n              <CardContent>\r\n                <Typography variant=\"h5\" component=\"h2\">\r\n                  {isEdit ? \"Edit Role\" : \"Add Role\"}\r\n                </Typography>\r\n                <form className={classes.form} noValidate autoComplete=\"off\">\r\n                  <TextField\r\n                    id=\"outlined-basic\"\r\n                    label=\" Role Name*\"\r\n                    name=\"name\"\r\n                    variant=\"outlined\"\r\n                    value={name}\r\n                    onChange={onChange}\r\n                    error={showTitleErr}\r\n                    helperText={showTitleErr && \"Please Enter Name\"}\r\n                    style={{ marginBottom: \"10px\" }}\r\n                  />\r\n\r\n                  <TextField\r\n                    id=\"outlined-basic\"\r\n                    label=\" Role Description*\"\r\n                    name=\"roleDescription\"\r\n                    variant=\"outlined\"\r\n                    value={roleDescription}\r\n                    onChange={onChange}\r\n                    error={showTitleErr}\r\n                    helperText={showTitleErr && \"Please Enter Description\"}\r\n                    style={{ marginBottom: \"10px\" }}\r\n                  />\r\n\r\n                  <br />\r\n\r\n                  <div>\r\n                    <b style={{ marginBottom: \"10px\" }}>Selected Privileges:</b>\r\n                    {applicant.pageName.map((value, index) => {\r\n                      return <span key={index}>{value}; </span>;\r\n                    })}\r\n                  </div>\r\n                </form>\r\n                <div>\r\n                  <Button\r\n                    variant=\"outlined\"\r\n                    color=\"primary\"\r\n                    onClick={handleClickOpen}\r\n                  >\r\n                    Add Privileges\r\n                  </Button>\r\n                  <Dialog\r\n                    open={open}\r\n                    onClose={handleClose}\r\n                    aria-labelledby=\"alert-dialog-title\"\r\n                    aria-describedby=\"alert-dialog-description\"\r\n                  >\r\n                    <DialogTitle id=\"alert-dialog-title\">\r\n                      {\"Select Privileges\"}\r\n                    </DialogTitle>\r\n                    <DialogContent>\r\n                      {Object.keys(permissions).map((page, index) => (\r\n                        <Accordion\r\n                          expanded={expanded === page}\r\n                          onChange={handleChangex(page)}\r\n                          key={page}\r\n                        >\r\n                          <AccordionSummary\r\n                            expandIcon={<ExpandMoreIcon />}\r\n                            aria-controls=\"panel2bh-content\"\r\n                            id=\"panel2bh-header\"\r\n                          >\r\n                            <Typography className={classes.heading}>\r\n                              {page}\r\n                            </Typography>\r\n                          </AccordionSummary>\r\n                          <AccordionDetails>\r\n                            <FormGroup row>\r\n                              {permissions[page].map((pagex) => (\r\n                                <FormControlLabel\r\n                                  key={pagex}\r\n                                  control={\r\n                                    <Checkbox\r\n                                      name=\"pageName\"\r\n                                      value={pagex}\r\n                                      checked={\r\n                                        applicant.pageName.indexOf(pagex) > -1\r\n                                      }\r\n                                      onChange={onChangePrivilege}\r\n                                    />\r\n                                  }\r\n                                  label={pagex}\r\n                                />\r\n                              ))}\r\n                            </FormGroup>\r\n                          </AccordionDetails>\r\n                        </Accordion>\r\n                      ))}\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                      <Button onClick={handleClose} color=\"primary\">\r\n                        Cancel\r\n                      </Button>\r\n                      <Button onClick={handleClose} color=\"primary\" autoFocus>\r\n                        Save\r\n                      </Button>\r\n                    </DialogActions>\r\n                  </Dialog>\r\n                </div>\r\n              </CardContent>\r\n              <div>\r\n                {showSpinner ? (\r\n                  <div>\r\n                    <span style={{ marginLeft: \"10px\", color: \"#ff0000\" }}>\r\n                      <h5>Please DO NOT REFRESH the page...</h5>\r\n                    </span>\r\n                    <CircularProgress\r\n                      style={{\r\n                        color: \"#18D26E\",\r\n                      }}\r\n                    />\r\n                  </div>\r\n                ) : (\r\n                  <div></div>\r\n                )}\r\n              </div>\r\n              <CardActions\r\n                style={{ justifyContent: \"center\", fontWeight: \"bold\" }}\r\n              >\r\n                <ColorButton\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={(e) => {\r\n                    console.log(\"Add User function\");\r\n                    if (isEdit) {\r\n                      editRoleButton(e);\r\n                    } else addRoleButton(e);\r\n                  }}\r\n                >\r\n                  {isEdit ? \"Edit Role\" : \" Add Role\"}\r\n                </ColorButton>\r\n              </CardActions>\r\n            </Card>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default AddRole;\r\n"]},"metadata":{},"sourceType":"module"}
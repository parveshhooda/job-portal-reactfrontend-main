{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/parve/Desktop/job portal cod/job-portal-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/parve/Desktop/job portal cod/job-portal-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/parve/Desktop/job portal cod/job-portal-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Media}from\"reactstrap\";import{withStyles}from\"@material-ui/core/styles\";import Button from\"@material-ui/core/Button\";import IconButton from\"@material-ui/core/IconButton\";import DeleteIcon from\"@material-ui/icons/Delete\";import CreateIcon from\"@material-ui/icons/Create\";import{makeStyles}from\"@material-ui/core/styles\";import{useHistory}from\"react-router-dom\";import Navbar from\"./Navbar\";import{deleteUserFromServer,viewUserFromServer}from\"../../Backend/sendRequestToServer\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var ViewUsers=function ViewUsers(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),blogs=_useState2[0],setBlogs=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),searchValue=_useState4[0],setSearchValue=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),searchResult=_useState6[0],setSearchResult=_useState6[1];var history=useHistory();useEffect(function(){fetchBlogs();},[]);var useStyles=makeStyles(function(theme){return{button:{margin:theme.spacing(1)}};});var classes=useStyles();var handleReset=function handleReset(){window.location.reload();};function checkIfSalesUser(emp){var designations=[\"National Sales Head\",\"Regional Sales Head\",\"City Sales Head\",\"Sales Executive\"];return designations.includes(emp.designation);}// custom button\nvar ColorButton=withStyles(function(theme){return{root:{backgroundColor:\"#FCBF00\",color:\"white\",fontWeight:\"bold\",\"&:hover\":{backgroundColor:\"#FCBF00\"}}};})(Button);var fetchBlogs=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return viewUserFromServer();case 2:res=_context.sent;if(res.status===200){console.log({res:res});setBlogs(res.result);}else setBlogs([]);case 4:case\"end\":return _context.stop();}}},_callee);}));return function fetchBlogs(){return _ref.apply(this,arguments);};}();//  Search in textbox\nvar searchBlogResult=function searchBlogResult(val){return blogs.filter(function(data){return data.userName.toLowerCase().includes(val.toLowerCase());});};var search=function search(e){setSearchValue(e.target.value);console.log(e.target.value);setSearchResult(searchBlogResult(e.target.value));};var editUser=function editUser(user){history.push(\"/add-user\",{user:user});};var deleteUser=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return deleteUserFromServer({id:id});case 2:res=_context2.sent;if(res.status===200){console.log(\"User Deleted\",res.result);window.location.reload();}else{console.log(\"Error Occured\",res);}case 4:case\"end\":return _context2.stop();}}},_callee2);}));return function deleteUser(_x){return _ref2.apply(this,arguments);};}();var prev=JSON.parse(localStorage.getItem(\"previleges\"))||[];var editP=prev.includes(\"Edit User\");var deleteP=prev.includes(\"Delete User\");var UserCard=function UserCard(_ref3){var blog=_ref3.blog;return/*#__PURE__*/_jsx(Media,{list:true,className:\"blog-card\",children:/*#__PURE__*/_jsx(Media,{tag:\"li\",children:/*#__PURE__*/_jsxs(Media,{body:true,children:[/*#__PURE__*/_jsx(Media,{heading:true,children:blog.userName}),/*#__PURE__*/_jsxs(\"p\",{className:\"author-name\",children:[\"Email : \",blog.emailId]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Phone: \",blog.number]}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Role: \",blog.role]}),/*#__PURE__*/_jsxs(\"p\",{className:\"view-edit\",children:[editP&&/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"edit\",id:blog.id,onClick:function onClick(e){console.log(\"Edit User\");editUser(blog);},children:/*#__PURE__*/_jsx(CreateIcon,{})}),deleteP&&/*#__PURE__*/_jsx(IconButton,{\"aria-label\":\"delete\",id:blog.id,onClick:function onClick(e){console.log(\"delete User\");deleteUser(blog.id);},children:/*#__PURE__*/_jsx(DeleteIcon,{})})]})]})})},blog.id);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5 pt-5\",children:[/*#__PURE__*/_jsx(\"h2\",{style:{textAlign:\"center\"},children:\"View User\"}),/*#__PURE__*/_jsx(\"div\",{className:\"row pb-3 justify-content-center\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",className:\"col-10 col-md-6 search-box\",placeholder:\"Search User\",onChange:function onChange(e){search(e);}})}),blogs.length===0?/*#__PURE__*/_jsx(\"div\",{className:\"row justify-content-center\",children:/*#__PURE__*/_jsx(\"p\",{children:\"No User's yet!\"})}):/*#__PURE__*/_jsx(_Fragment,{children:blogs.length>0&&searchValue===\"\"?blogs.map(function(blog){return/*#__PURE__*/_jsx(UserCard,{blog:blog});}):/*#__PURE__*/_jsx(_Fragment,{children:searchResult.length>0?searchResult.map(function(blog){return/*#__PURE__*/_jsx(UserCard,{blog:blog});}):/*#__PURE__*/_jsx(_Fragment,{children:searchValue!==\"\"?/*#__PURE__*/_jsx(\"div\",{className:\"row pb-3 justify-content-center\",children:/*#__PURE__*/_jsx(\"div\",{children:\"Search Not Found!\"})}):/*#__PURE__*/_jsx(\"div\",{})})})})]})]});};export default ViewUsers;","map":{"version":3,"sources":["C:/Users/parve/Desktop/job portal cod/job-portal-react-main/src/components/employer/ViewUsers.jsx"],"names":["React","useEffect","useState","Media","withStyles","Button","IconButton","DeleteIcon","CreateIcon","makeStyles","useHistory","Navbar","deleteUserFromServer","viewUserFromServer","ViewUsers","blogs","setBlogs","searchValue","setSearchValue","searchResult","setSearchResult","history","fetchBlogs","useStyles","theme","button","margin","spacing","classes","handleReset","window","location","reload","checkIfSalesUser","emp","designations","includes","designation","ColorButton","root","backgroundColor","color","fontWeight","res","status","console","log","result","searchBlogResult","val","filter","data","userName","toLowerCase","search","e","target","value","editUser","user","push","deleteUser","id","prev","JSON","parse","localStorage","getItem","editP","deleteP","UserCard","blog","emailId","number","role","textAlign","length","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Media } from \"reactstrap\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport CreateIcon from \"@material-ui/icons/Create\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useHistory } from \"react-router-dom\";\nimport Navbar from \"./Navbar\";\nimport {\n  deleteUserFromServer,\n  viewUserFromServer,\n} from \"../../Backend/sendRequestToServer\";\n\nconst ViewUsers = () => {\n  const [blogs, setBlogs] = useState([]);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [searchResult, setSearchResult] = useState([]);\n\n  let history = useHistory();\n\n  useEffect(() => {\n    fetchBlogs();\n  }, []);\n\n  const useStyles = makeStyles((theme) => ({\n    button: {\n      margin: theme.spacing(1),\n    },\n  }));\n  const classes = useStyles();\n\n  const handleReset = () => {\n    window.location.reload();\n  };\n\n  function checkIfSalesUser(emp) {\n    const designations = [\n      \"National Sales Head\",\n      \"Regional Sales Head\",\n      \"City Sales Head\",\n      \"Sales Executive\",\n    ];\n    return designations.includes(emp.designation);\n  }\n\n  // custom button\n\n  const ColorButton = withStyles((theme) => ({\n    root: {\n      backgroundColor: \"#FCBF00\",\n      color: \"white\",\n      fontWeight: \"bold\",\n      \"&:hover\": {\n        backgroundColor: \"#FCBF00\",\n      },\n    },\n  }))(Button);\n\n  const fetchBlogs = async () => {\n    // const obj = {\n    //   id: \"123\",\n    //   name: \"Hr1\",\n    //   email: \"hr1@getnada.com\",\n    //   phone: \"90909090\",\n    //   role: \"Hr\",\n    //   privileges: [\"Add Hr\", \"View Hr\"],\n    // };\n    const res = await viewUserFromServer();\n    if (res.status === 200) {\n      console.log({ res });\n      setBlogs(res.result);\n    } else setBlogs([]);\n  };\n\n  //  Search in textbox\n  const searchBlogResult = (val) => {\n    return blogs.filter((data) =>\n      data.userName.toLowerCase().includes(val.toLowerCase())\n    );\n  };\n  const search = (e) => {\n    setSearchValue(e.target.value);\n    console.log(e.target.value);\n\n    setSearchResult(searchBlogResult(e.target.value));\n  };\n\n  const editUser = (user) => {\n    history.push(\"/add-user\", { user });\n  };\n\n  const deleteUser = async (id) => {\n    const res = await deleteUserFromServer({ id });\n    if (res.status === 200) {\n      console.log(\"User Deleted\", res.result);\n      window.location.reload();\n    } else {\n      console.log(\"Error Occured\", res);\n    }\n  };\n  const prev = JSON.parse(localStorage.getItem(\"previleges\")) || [];\n  const editP = prev.includes(\"Edit User\");\n  const deleteP = prev.includes(\"Delete User\");\n\n  const UserCard = ({ blog }) => {\n    return (\n      <Media list key={blog.id} className=\"blog-card\">\n        <Media tag=\"li\">\n          <Media body>\n            <Media heading>{blog.userName}</Media>\n            <p className=\"author-name\">Email : {blog.emailId}</p>\n            <p>Phone: {blog.number}</p>\n            {/* <p>Designation: {blog.designation}</p> */}\n            <p>Role: {blog.role}</p>\n\n            <p className=\"view-edit\">\n              {editP && (\n                <IconButton\n                  aria-label=\"edit\"\n                  id={blog.id}\n                  onClick={(e) => {\n                    console.log(\"Edit User\");\n                    editUser(blog);\n                  }}\n                >\n                  <CreateIcon />\n                </IconButton>\n              )}\n              {deleteP && (\n                <IconButton\n                  aria-label=\"delete\"\n                  id={blog.id}\n                  onClick={(e) => {\n                    console.log(\"delete User\");\n                    deleteUser(blog.id);\n                  }}\n                >\n                  <DeleteIcon />\n                </IconButton>\n              )}\n            </p>\n          </Media>\n        </Media>\n      </Media>\n    );\n  };\n  return (\n    <>\n      <Navbar />\n      <div className=\"container mt-5 pt-5\">\n        <h2 style={{ textAlign: \"center\" }}>View User</h2>\n        <div className=\"row pb-3 justify-content-center\">\n          <input\n            type=\"text\"\n            className=\"col-10 col-md-6 search-box\"\n            placeholder=\"Search User\"\n            onChange={(e) => {\n              search(e);\n            }}\n          />\n        </div>\n        {blogs.length === 0 ? (\n          <div className=\"row justify-content-center\">\n            <p>No User's yet!</p>\n          </div>\n        ) : (\n          <>\n            {blogs.length > 0 && searchValue === \"\" ? (\n              blogs.map((blog) => {\n                return <UserCard blog={blog} />;\n              })\n            ) : (\n              <>\n                {searchResult.length > 0 ? (\n                  searchResult.map((blog) => {\n                    return <UserCard blog={blog} />;\n                  })\n                ) : (\n                  <>\n                    {searchValue !== \"\" ? (\n                      <div className=\"row pb-3 justify-content-center\">\n                        <div>Search Not Found!</div>\n                      </div>\n                    ) : (\n                      <div></div>\n                    )}\n                  </>\n                )}\n              </>\n            )}\n          </>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default ViewUsers;\n"]},"metadata":{},"sourceType":"module"}
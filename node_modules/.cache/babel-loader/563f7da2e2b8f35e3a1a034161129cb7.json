{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\parve\\\\Desktop\\\\job portal cod\\\\job-portal-react-main\\\\src\\\\components\\\\employer\\\\ViewRole.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Media } from \"reactstrap\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport CreateIcon from \"@material-ui/icons/Create\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useHistory } from \"react-router-dom\";\nimport Navbar from \"./Navbar\";\nimport { deleteRoleFromServer, viewRoleFromServer } from \"../../Backend/sendRequestToServer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ViewRole = () => {\n  _s();\n\n  const [blogs, setBlogs] = useState([]);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [searchResult, setSearchResult] = useState([]);\n  let history = useHistory();\n  useEffect(() => {\n    fetchBlogs();\n  }, []);\n  const useStyles = makeStyles(theme => ({\n    button: {\n      margin: theme.spacing(1)\n    }\n  }));\n  const classes = useStyles();\n\n  const handleReset = () => {\n    window.location.reload();\n  };\n\n  function checkIfSalesUser(emp) {\n    const designations = [\"National Sales Head\", \"Regional Sales Head\", \"City Sales Head\", \"Sales Executive\"];\n    return designations.includes(emp.designation);\n  } // function edit blogs\n\n\n  function EditEmployee(id) {\n    console.log(\"this is \", id);\n    history.push(\"/edit-applicant\", id);\n  } // custom button\n\n\n  const ColorButton = withStyles(theme => ({\n    root: {\n      backgroundColor: \"#FCBF00\",\n      color: \"white\",\n      fontWeight: \"bold\",\n      \"&:hover\": {\n        backgroundColor: \"#FCBF00\"\n      }\n    }\n  }))(Button);\n\n  const fetchBlogs = async () => {\n    // const obj = {\n    //   id: \"123\",\n    //   name: \"Hr1\",\n    //   email: \"hr1@getnada.com\",\n    //   phone: \"90909090\",\n    //   role: \"Hr\",\n    //   privileges: [\"Add Hr\", \"View Hr\"],\n    // };\n    const res = await viewRoleFromServer();\n\n    if (res.status === 200) {\n      console.log({\n        res\n      });\n      setBlogs(res.result);\n    } else setBlogs([]);\n  }; //  Search in textbox\n\n\n  const searchBlogResult = val => {\n    return blogs.filter(data => data.role.toLowerCase().includes(val.toLowerCase()));\n  };\n\n  const search = e => {\n    setSearchValue(e.target.value);\n    console.log(e.target.value);\n    setSearchResult(searchBlogResult(e.target.value));\n  };\n\n  const deleteRole = async id => {\n    const res = await deleteRoleFromServer({\n      id\n    });\n\n    if (res.status === 200) {\n      console.log(\"Role Deleted\", res.result);\n      window.location.reload();\n    } else {\n      console.log(\"Error Occured\", res);\n    }\n  };\n\n  const editRole = async role => {\n    history.push(\"/add-role\", {\n      role\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-5 pt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"View Role\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row pb-3 justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"col-10 col-md-6 search-box\",\n          placeholder: \"Search Role\",\n          onChange: e => {\n            search(e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this), blogs.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No Role yet!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: blogs.length > 0 && searchValue === \"\" ? blogs.map(blog => {\n          const prev = blog.permission_Arr ? JSON.parse(blog.permission_Arr)[\"privileges\"] : [];\n          return /*#__PURE__*/_jsxDEV(Media, {\n            list: true,\n            className: \"blog-card\",\n            children: /*#__PURE__*/_jsxDEV(Media, {\n              tag: \"li\",\n              children: /*#__PURE__*/_jsxDEV(Media, {\n                body: true,\n                children: [/*#__PURE__*/_jsxDEV(Media, {\n                  heading: true,\n                  children: blog.role\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 141,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Description: \", blog.roleDescription]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 142,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: [\"Privileges: \", prev.toString()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 25\n                }, this), localStorage.getItem(\"email\") !== blog.email && /*#__PURE__*/_jsxDEV(\"p\", {\n                  className: \"view-edit\",\n                  children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                    \"aria-label\": \"edit\",\n                    id: blog.id,\n                    onClick: e => {\n                      console.log(\"Edit Applicant\");\n                      editRole(blog);\n                    },\n                    children: /*#__PURE__*/_jsxDEV(CreateIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 154,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 146,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                    \"aria-label\": \"delete\",\n                    id: blog.id,\n                    onClick: e => {\n                      console.log(\"delete Applicant\");\n                      deleteRole(blog.id);\n                    },\n                    children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 164,\n                      columnNumber: 31\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 156,\n                    columnNumber: 29\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 145,\n                  columnNumber: 27\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 23\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 21\n            }, this)\n          }, blog.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 19\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: searchResult.length > 0 ? searchResult.map(blog => {\n            const prev = blog.permission_Arr ? JSON.parse(blog.permission_Arr)[\"privileges\"] : [];\n            return /*#__PURE__*/_jsxDEV(Media, {\n              list: true,\n              className: \"blog-card\",\n              children: /*#__PURE__*/_jsxDEV(Media, {\n                tag: \"li\",\n                children: /*#__PURE__*/_jsxDEV(Media, {\n                  body: true,\n                  children: [/*#__PURE__*/_jsxDEV(Media, {\n                    heading: true,\n                    children: blog.role\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 184,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Description: \", blog.roleDescription]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 185,\n                    columnNumber: 29\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Priviledges: \", prev.toString()]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 186,\n                    columnNumber: 29\n                  }, this), localStorage.getItem(\"email\") !== blog.email && /*#__PURE__*/_jsxDEV(\"p\", {\n                    className: \"view-edit\",\n                    children: [/*#__PURE__*/_jsxDEV(IconButton, {\n                      \"aria-label\": \"edit\",\n                      id: blog.id,\n                      onClick: e => {\n                        console.log(\"Edit applicant\");\n                        editRole(blog);\n                      },\n                      children: /*#__PURE__*/_jsxDEV(CreateIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 197,\n                        columnNumber: 35\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 189,\n                      columnNumber: 33\n                    }, this), /*#__PURE__*/_jsxDEV(IconButton, {\n                      \"aria-label\": \"delete\",\n                      id: blog.id,\n                      onClick: e => {\n                        console.log(\"delete applicant\");\n                        deleteRole(blog.id);\n                      },\n                      children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 207,\n                        columnNumber: 35\n                      }, this)\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 199,\n                      columnNumber: 33\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 188,\n                    columnNumber: 31\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 183,\n                  columnNumber: 27\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 182,\n                columnNumber: 25\n              }, this)\n            }, blog.id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 23\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: searchValue !== \"\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row pb-3 justify-content-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Search Not Found!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 220,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 219,\n              columnNumber: 23\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 223,\n              columnNumber: 23\n            }, this)\n          }, void 0, false)\n        }, void 0, false)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ViewRole, \"w9jaw8zc8UhydGIsf269Z4N1CXE=\", true, function () {\n  return [useHistory];\n});\n\n_c = ViewRole;\nexport default ViewRole;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewRole\");","map":{"version":3,"sources":["C:/Users/parve/Desktop/job portal cod/job-portal-react-main/src/components/employer/ViewRole.jsx"],"names":["React","useEffect","useState","Media","withStyles","Button","IconButton","DeleteIcon","CreateIcon","makeStyles","useHistory","Navbar","deleteRoleFromServer","viewRoleFromServer","ViewRole","blogs","setBlogs","searchValue","setSearchValue","searchResult","setSearchResult","history","fetchBlogs","useStyles","theme","button","margin","spacing","classes","handleReset","window","location","reload","checkIfSalesUser","emp","designations","includes","designation","EditEmployee","id","console","log","push","ColorButton","root","backgroundColor","color","fontWeight","res","status","result","searchBlogResult","val","filter","data","role","toLowerCase","search","e","target","value","deleteRole","editRole","textAlign","length","map","blog","prev","permission_Arr","JSON","parse","roleDescription","toString","localStorage","getItem","email"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { Media } from \"reactstrap\";\r\nimport { withStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport CreateIcon from \"@material-ui/icons/Create\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Navbar from \"./Navbar\";\r\nimport {\r\n  deleteRoleFromServer,\r\n  viewRoleFromServer,\r\n} from \"../../Backend/sendRequestToServer\";\r\n\r\nconst ViewRole = () => {\r\n  const [blogs, setBlogs] = useState([]);\r\n  const [searchValue, setSearchValue] = useState(\"\");\r\n  const [searchResult, setSearchResult] = useState([]);\r\n\r\n  let history = useHistory();\r\n\r\n  useEffect(() => {\r\n    fetchBlogs();\r\n  }, []);\r\n\r\n  const useStyles = makeStyles((theme) => ({\r\n    button: {\r\n      margin: theme.spacing(1),\r\n    },\r\n  }));\r\n  const classes = useStyles();\r\n\r\n  const handleReset = () => {\r\n    window.location.reload();\r\n  };\r\n\r\n  function checkIfSalesUser(emp) {\r\n    const designations = [\r\n      \"National Sales Head\",\r\n      \"Regional Sales Head\",\r\n      \"City Sales Head\",\r\n      \"Sales Executive\",\r\n    ];\r\n    return designations.includes(emp.designation);\r\n  }\r\n\r\n  // function edit blogs\r\n\r\n  function EditEmployee(id) {\r\n    console.log(\"this is \", id);\r\n    history.push(\"/edit-applicant\", id);\r\n  }\r\n\r\n  // custom button\r\n\r\n  const ColorButton = withStyles((theme) => ({\r\n    root: {\r\n      backgroundColor: \"#FCBF00\",\r\n      color: \"white\",\r\n      fontWeight: \"bold\",\r\n      \"&:hover\": {\r\n        backgroundColor: \"#FCBF00\",\r\n      },\r\n    },\r\n  }))(Button);\r\n\r\n  const fetchBlogs = async () => {\r\n    // const obj = {\r\n    //   id: \"123\",\r\n    //   name: \"Hr1\",\r\n    //   email: \"hr1@getnada.com\",\r\n    //   phone: \"90909090\",\r\n    //   role: \"Hr\",\r\n    //   privileges: [\"Add Hr\", \"View Hr\"],\r\n    // };\r\n    const res = await viewRoleFromServer();\r\n    if (res.status === 200) {\r\n      console.log({ res });\r\n      setBlogs(res.result);\r\n    } else setBlogs([]);\r\n  };\r\n\r\n  //  Search in textbox\r\n  const searchBlogResult = (val) => {\r\n    return blogs.filter((data) =>\r\n      data.role.toLowerCase().includes(val.toLowerCase())\r\n    );\r\n  };\r\n  const search = (e) => {\r\n    setSearchValue(e.target.value);\r\n    console.log(e.target.value);\r\n\r\n    setSearchResult(searchBlogResult(e.target.value));\r\n  };\r\n\r\n  const deleteRole = async (id) => {\r\n    const res = await deleteRoleFromServer({ id });\r\n    if (res.status === 200) {\r\n      console.log(\"Role Deleted\", res.result);\r\n      window.location.reload();\r\n    } else {\r\n      console.log(\"Error Occured\", res);\r\n    }\r\n  };\r\n\r\n  const editRole = async (role) => {\r\n    history.push(\"/add-role\", { role });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Navbar />\r\n      <div className=\"container mt-5 pt-5\">\r\n        <h2 style={{ textAlign: \"center\" }}>View Role</h2>\r\n        <div className=\"row pb-3 justify-content-center\">\r\n          <input\r\n            type=\"text\"\r\n            className=\"col-10 col-md-6 search-box\"\r\n            placeholder=\"Search Role\"\r\n            onChange={(e) => {\r\n              search(e);\r\n            }}\r\n          />\r\n        </div>\r\n        {blogs.length === 0 ? (\r\n          <div className=\"row justify-content-center\">\r\n            <p>No Role yet!</p>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {blogs.length > 0 && searchValue === \"\" ? (\r\n              blogs.map((blog) => {\r\n                const prev = blog.permission_Arr\r\n                  ? JSON.parse(blog.permission_Arr)[\"privileges\"]\r\n                  : [];\r\n                return (\r\n                  <Media list key={blog.id} className=\"blog-card\">\r\n                    <Media tag=\"li\">\r\n                      <Media body>\r\n                        <Media heading>{blog.role}</Media>\r\n                        <p>Description: {blog.roleDescription}</p>\r\n                        <p>Privileges: {prev.toString()}</p>\r\n                        {localStorage.getItem(\"email\") !== blog.email && (\r\n                          <p className=\"view-edit\">\r\n                            <IconButton\r\n                              aria-label=\"edit\"\r\n                              id={blog.id}\r\n                              onClick={(e) => {\r\n                                console.log(\"Edit Applicant\");\r\n                                editRole(blog);\r\n                              }}\r\n                            >\r\n                              <CreateIcon />\r\n                            </IconButton>\r\n                            <IconButton\r\n                              aria-label=\"delete\"\r\n                              id={blog.id}\r\n                              onClick={(e) => {\r\n                                console.log(\"delete Applicant\");\r\n                                deleteRole(blog.id);\r\n                              }}\r\n                            >\r\n                              <DeleteIcon />\r\n                            </IconButton>\r\n                          </p>\r\n                        )}\r\n                      </Media>\r\n                    </Media>\r\n                  </Media>\r\n                );\r\n              })\r\n            ) : (\r\n              <>\r\n                {searchResult.length > 0 ? (\r\n                  searchResult.map((blog) => {\r\n                    const prev = blog.permission_Arr\r\n                      ? JSON.parse(blog.permission_Arr)[\"privileges\"]\r\n                      : [];\r\n                    return (\r\n                      <Media list key={blog.id} className=\"blog-card\">\r\n                        <Media tag=\"li\">\r\n                          <Media body>\r\n                            <Media heading>{blog.role}</Media>\r\n                            <p>Description: {blog.roleDescription}</p>\r\n                            <p>Priviledges: {prev.toString()}</p>\r\n                            {localStorage.getItem(\"email\") !== blog.email && (\r\n                              <p className=\"view-edit\">\r\n                                <IconButton\r\n                                  aria-label=\"edit\"\r\n                                  id={blog.id}\r\n                                  onClick={(e) => {\r\n                                    console.log(\"Edit applicant\");\r\n                                    editRole(blog);\r\n                                  }}\r\n                                >\r\n                                  <CreateIcon />\r\n                                </IconButton>\r\n                                <IconButton\r\n                                  aria-label=\"delete\"\r\n                                  id={blog.id}\r\n                                  onClick={(e) => {\r\n                                    console.log(\"delete applicant\");\r\n                                    deleteRole(blog.id);\r\n                                  }}\r\n                                >\r\n                                  <DeleteIcon />\r\n                                </IconButton>\r\n                              </p>\r\n                            )}\r\n                          </Media>\r\n                        </Media>\r\n                      </Media>\r\n                    );\r\n                  })\r\n                ) : (\r\n                  <>\r\n                    {searchValue !== \"\" ? (\r\n                      <div className=\"row pb-3 justify-content-center\">\r\n                        <div>Search Not Found!</div>\r\n                      </div>\r\n                    ) : (\r\n                      <div></div>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ViewRole;\r\n"]},"metadata":{},"sourceType":"module"}
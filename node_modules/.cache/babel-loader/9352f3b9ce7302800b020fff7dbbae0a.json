{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\parve\\\\Desktop\\\\job portal cod\\\\job-portal-react-main\\\\src\\\\components\\\\employer\\\\AddUser.jsx\",\n    _s = $RefreshSig$();\n\nimport React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { ThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Select from \"@material-ui/core/Select\";\nimport Input from \"@material-ui/core/Input\";\nimport clsx from \"clsx\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport TextareaAutosize from \"@material-ui/core/TextareaAutosize\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { green } from \"@material-ui/core/colors\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\nimport Favorite from \"@material-ui/icons/Favorite\";\nimport FavoriteBorder from \"@material-ui/icons/FavoriteBorder\";\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\nimport { useHistory } from \"react-router\";\nimport { useState, useContext, useEffect } from \"react\";\nimport { drawerCollapseable } from \"../../Common/Constants\";\nimport Navbar from \"./Navbar\";\nimport { addUser, editUserFromServer, viewRoleFromServer } from \"../../Backend/sendRequestToServer\";\nimport swal from \"sweetalert\";\nimport { useLocation } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  root: {\n    // minWidth: 275,\n    // margin: \"15px 15px 15px 15px\",\n    borderRadius: \"10px\",\n    padding: \"12px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    textAlign: \"center\",\n    boxShadow: \"0 5px 10px rgba(0,0,0,0.19), 0 3px 3px rgba(0,0,0,0.21)\"\n  },\n  form: {\n    margin: \"15px 15px 15px 15px\",\n    borderRadius: \"10px\",\n    padding: \"12px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    textAlign: \"center\"\n  },\n  pos: {\n    marginTop: 20\n  },\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n    maxWidth: 300\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2)\n  },\n  bullet: {\n    display: \"inline-block\",\n    margin: \"0 2px\",\n    transform: \"scale(0.8)\"\n  },\n  title: {\n    fontSize: 14\n  },\n  pos: {\n    marginBottom: 12\n  },\n  label: {\n    color: \"#000\"\n  },\n  textField: {\n    \"& .MuiInputBase-input\": {\n      color: \"#000\"\n    }\n  },\n  errMsg: {\n    color: \"red\",\n    fontWeight: \"bold\",\n    fontSize: \"small\",\n    marginBottom: \"10px\",\n    textAlign: \"left\"\n  }\n}));\n\nconst AddUser = props => {\n  _s();\n\n  const [showMobileErr, setMobileErr] = useState(\"\");\n  const [showEmailErr, setEmailErr] = useState(\"\");\n  const [showPassErr, setPassErr] = useState(\"\");\n  let location = useLocation();\n  let isEdit = false,\n      state = location.state;\n\n  if (state && state.user) {\n    // console.log(state.role);\n    isEdit = true;\n  }\n\n  let history = useHistory();\n  const [showSpinner, setShowSpinner] = React.useState(false);\n\n  const handleReset = () => {\n    window.location.reload();\n  }; // feild empty err hooks\n\n\n  const [showTitleErr, setShowTitleErr] = React.useState(false);\n  const [showDescErr, setShowDescErr] = React.useState(false);\n  const [showLocationErr, setShowLocationErr] = React.useState(false);\n  const [showQualErr, setShowQualErr] = React.useState(false);\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState(false);\n  useEffect(() => {\n    if (isEdit) {\n      console.log(state.user);\n      setApplicant({\n        name: state.user.userName,\n        email: state.user.emailId,\n        phone: state.user.number,\n        role: state.user.role\n      });\n    }\n  }, []);\n\n  const handleChangex = panel => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  }; //priviledges dialog\n\n\n  const [open, setOpen] = React.useState(false);\n  const ITEM_HEIGHT = 48;\n  const ITEM_PADDING_TOP = 8;\n  const MenuProps = {\n    PaperProps: {\n      style: {\n        maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n        width: 250,\n        backgroundColor: \"#fff\",\n        color: \"#000\"\n      }\n    }\n  };\n  const [applicant, setApplicant] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    password: \"\",\n    role: \"\"\n  });\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n\n  const {\n    name,\n    email,\n    password,\n    phone,\n    role\n  } = applicant;\n  const [roles, setRoles] = useState([]);\n  useEffect(() => {\n    viewRoleFromServer().then(roles => {\n      if (roles.status === 200) setRoles(roles.result);\n    });\n  }, []);\n\n  const onChange = e => {\n    console.log(e.target.name);\n    setApplicant({ ...applicant,\n      [e.target.name]: e.target.value\n    });\n\n    switch (e.target.name) {\n      case \"phone\":\n        if (!validatePhone(e.target.value)) {\n          setMobileErr(\"Please Enter Valid Phone number\");\n        } else {\n          setMobileErr(\"\");\n        }\n\n        break;\n\n      case \"email\":\n        if (!validateEmail(e.target.value)) {\n          setEmailErr(\"Please Enter Valid Email\");\n        } else {\n          setEmailErr(\"\");\n        }\n\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const addUserButton = async e => {\n    e.preventDefault();\n\n    if (email === \"\" || password === \"\" || name === \"\" || phone === \"\") {\n      alert(\"Please enter all fields\");\n    } else if (showEmailErr !== \"\" || showMobileErr !== \"\") {\n      console.log(\"Email or phone is wrong\");\n      return false;\n    } else {\n      setShowSpinner(true);\n      const res = await addUser({\n        userName: name,\n        emailId: email,\n        number: phone,\n        password: password,\n        role: role\n      });\n\n      if (res.status === 200) {\n        setShowSpinner(false);\n        swal(\"Success!\", \"User Added\", \"success\").then(value => handleReset());\n      } else {\n        setShowSpinner(false);\n        console.log(res);\n        swal(\"Failed!\", \"Failed to create User. Try Again!!!\", \"error\");\n      }\n    }\n  };\n\n  const editUserButton = async e => {\n    e.preventDefault();\n\n    if (email === \"\" || name === \"\" || phone === \"\") {\n      alert(\"Please enter all fields\");\n    } else if (showEmailErr !== \"\" || showMobileErr !== \"\") {\n      console.log(\"Email or phone is wrong\");\n      return false;\n    } else {\n      setShowSpinner(true);\n      const res = await editUserFromServer({\n        id: state.user.id,\n        userName: name,\n        emailId: email,\n        number: phone,\n        role: role\n      });\n\n      if (res.status === 200) {\n        setShowSpinner(false);\n        swal(\"Success!\", \"User Edit\", \"success\").then(value => history.push(\"/view-user\"));\n      } else {\n        setShowSpinner(false);\n        console.log(res);\n        swal(\"Failed!\", \"Failed to edit User. Try Again!!!\", \"error\");\n      }\n    }\n  }; // email validation\n\n\n  const validateEmail = email => {\n    const re = /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n  }; // phone validation\n\n\n  const validatePhone = mob => {\n    const re = /^[0-9]{10}$/;\n    return re.test(mob);\n  }; // custom button\n\n\n  const ColorButton = withStyles(theme => ({\n    root: {\n      backgroundColor: \"#FCBF00\",\n      \"&:hover\": {\n        backgroundColor: \"#FCBF00\"\n      }\n    }\n  }))(Button); // const classes = useStyles();\n\n  const bull = /*#__PURE__*/_jsxDEV(\"span\", {\n    className: classes.bullet,\n    children: \"\\u2022\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 313,\n    columnNumber: 16\n  }, this);\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 317,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-5 pt-5\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row align-items-center justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-12 col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(Card, {\n            className: classes.root,\n            variant: \"outlined\",\n            children: [/*#__PURE__*/_jsxDEV(CardContent, {\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                variant: \"h5\",\n                component: \"h2\",\n                children: isEdit ? \"Edit User\" : \"Add User\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 323,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n                className: classes.form,\n                noValidate: true,\n                autoComplete: \"off\",\n                children: [/*#__PURE__*/_jsxDEV(TextField, {\n                  id: \"outlined-basic\",\n                  label: \"Name*\",\n                  name: \"name\",\n                  variant: \"outlined\",\n                  value: name,\n                  onChange: onChange,\n                  error: showTitleErr,\n                  helperText: showTitleErr && \"Please Enter Name\",\n                  style: {\n                    marginBottom: \"10px\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 327,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  id: \"outlined-basic\",\n                  label: \"Email*\",\n                  name: \"email\",\n                  variant: \"outlined\",\n                  value: email,\n                  onChange: onChange,\n                  error: showDescErr,\n                  helperText: showDescErr && \"Please Enter Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 338,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: classes.errMsg,\n                  children: showEmailErr\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 348,\n                  columnNumber: 19\n                }, this), !isEdit && /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [\" \", /*#__PURE__*/_jsxDEV(TextField, {\n                    label: \"Password*\",\n                    name: \"password\",\n                    type: \"password\",\n                    variant: \"outlined\",\n                    onChange: onChange,\n                    error: showDescErr,\n                    helperText: showDescErr && \"Please Enter Email\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 352,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: classes.errMsg,\n                    children: showPassErr\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 361,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true), /*#__PURE__*/_jsxDEV(TextField, {\n                  variant: \"outlined\",\n                  \"aria-label\": \"empty textarea\",\n                  label: \"Phone*\",\n                  name: \"phone\",\n                  value: phone,\n                  onChange: onChange,\n                  error: showQualErr,\n                  helperText: showQualErr && \"Please Enter Phone\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 364,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: classes.errMsg,\n                  children: showMobileErr\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 374,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 376,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(TextField, {\n                  select: true,\n                  variant: \"outlined\",\n                  label: \"Select Role*\",\n                  name: \"role\",\n                  value: role,\n                  onChange: onChange // error={showQualErr}\n                  // helperText={showQualErr && \"Please Enter Phone\"}\n                  ,\n                  children: roles.map(option => /*#__PURE__*/_jsxDEV(MenuItem, {\n                    value: option.role,\n                    children: option.role\n                  }, option.id, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 23\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 378,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 326,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 322,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              children: showSpinner ? /*#__PURE__*/_jsxDEV(\"div\", {\n                children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                  style: {\n                    marginLeft: \"10px\",\n                    color: \"#ff0000\"\n                  },\n                  children: /*#__PURE__*/_jsxDEV(\"h5\", {\n                    children: \"Please DO NOT REFRESH the page...\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 400,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 399,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(CircularProgress, {\n                  style: {\n                    color: \"#18D26E\"\n                  }\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 402,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 398,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 409,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 396,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(CardActions, {\n              style: {\n                justifyContent: \"center\",\n                fontWeight: \"bold\"\n              },\n              children: /*#__PURE__*/_jsxDEV(ColorButton, {\n                variant: \"contained\",\n                color: \"primary\",\n                onClick: e => {\n                  if (isEdit) {\n                    editUserButton(e);\n                  } else {\n                    console.log(\"Add User function\");\n                    addUserButton(e);\n                  }\n                },\n                children: [isEdit ? \"Edit User\" : \"Add User\", \" \"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 415,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 321,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 318,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(AddUser, \"JkAd3/3fSGKHYnXdrQhTJ8FYZZc=\", false, function () {\n  return [useLocation, useHistory, useStyles];\n});\n\n_c = AddUser;\nexport default AddUser;\n\nvar _c;\n\n$RefreshReg$(_c, \"AddUser\");","map":{"version":3,"sources":["C:/Users/parve/Desktop/job portal cod/job-portal-react-main/src/components/employer/AddUser.jsx"],"names":["React","makeStyles","withStyles","ThemeProvider","createMuiTheme","Card","CardActions","CardContent","Button","Typography","TextField","Select","Input","clsx","CircularProgress","Checkbox","MenuItem","FormControl","InputLabel","ListItemText","TextareaAutosize","Dialog","DialogActions","DialogContent","DialogContentText","DialogTitle","green","FormGroup","FormControlLabel","CheckBoxOutlineBlankIcon","CheckBoxIcon","Favorite","FavoriteBorder","Accordion","AccordionSummary","AccordionDetails","ExpandMoreIcon","Paper","Grid","useHistory","useState","useContext","useEffect","drawerCollapseable","Navbar","addUser","editUserFromServer","viewRoleFromServer","swal","useLocation","useStyles","theme","root","borderRadius","padding","display","flexDirection","justifyContent","textAlign","boxShadow","form","margin","pos","marginTop","formControl","spacing","minWidth","maxWidth","selectEmpty","bullet","transform","title","fontSize","marginBottom","label","color","textField","errMsg","fontWeight","AddUser","props","showMobileErr","setMobileErr","showEmailErr","setEmailErr","showPassErr","setPassErr","location","isEdit","state","user","history","showSpinner","setShowSpinner","handleReset","window","reload","showTitleErr","setShowTitleErr","showDescErr","setShowDescErr","showLocationErr","setShowLocationErr","showQualErr","setShowQualErr","classes","expanded","setExpanded","console","log","setApplicant","name","userName","email","emailId","phone","number","role","handleChangex","panel","event","isExpanded","open","setOpen","ITEM_HEIGHT","ITEM_PADDING_TOP","MenuProps","PaperProps","style","maxHeight","width","backgroundColor","applicant","password","handleClickOpen","handleClose","roles","setRoles","then","status","result","onChange","e","target","value","validatePhone","validateEmail","addUserButton","preventDefault","alert","res","editUserButton","id","push","re","test","mob","ColorButton","bull","map","option","marginLeft"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport { ThemeProvider, createMuiTheme } from \"@material-ui/core/styles\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport Button from \"@material-ui/core/Button\";\nimport Typography from \"@material-ui/core/Typography\";\nimport TextField from \"@material-ui/core/TextField\";\nimport Select from \"@material-ui/core/Select\";\nimport Input from \"@material-ui/core/Input\";\nimport clsx from \"clsx\";\nimport { CircularProgress } from \"@material-ui/core\";\nimport Checkbox from \"@material-ui/core/Checkbox\";\nimport MenuItem from \"@material-ui/core/MenuItem\";\nimport FormControl from \"@material-ui/core/FormControl\";\nimport InputLabel from \"@material-ui/core/InputLabel\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport TextareaAutosize from \"@material-ui/core/TextareaAutosize\";\nimport Dialog from \"@material-ui/core/Dialog\";\nimport DialogActions from \"@material-ui/core/DialogActions\";\nimport DialogContent from \"@material-ui/core/DialogContent\";\nimport DialogContentText from \"@material-ui/core/DialogContentText\";\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\nimport { green } from \"@material-ui/core/colors\";\nimport FormGroup from \"@material-ui/core/FormGroup\";\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\nimport CheckBoxOutlineBlankIcon from \"@material-ui/icons/CheckBoxOutlineBlank\";\nimport CheckBoxIcon from \"@material-ui/icons/CheckBox\";\nimport Favorite from \"@material-ui/icons/Favorite\";\nimport FavoriteBorder from \"@material-ui/icons/FavoriteBorder\";\n\nimport Accordion from \"@material-ui/core/Accordion\";\nimport AccordionSummary from \"@material-ui/core/AccordionSummary\";\nimport AccordionDetails from \"@material-ui/core/AccordionDetails\";\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\n\nimport Paper from \"@material-ui/core/Paper\";\nimport Grid from \"@material-ui/core/Grid\";\n\nimport { useHistory } from \"react-router\";\nimport { useState, useContext, useEffect } from \"react\";\nimport { drawerCollapseable } from \"../../Common/Constants\";\nimport Navbar from \"./Navbar\";\nimport {\n  addUser,\n  editUserFromServer,\n  viewRoleFromServer,\n} from \"../../Backend/sendRequestToServer\";\nimport swal from \"sweetalert\";\nimport { useLocation } from \"react-router-dom\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    // minWidth: 275,\n    // margin: \"15px 15px 15px 15px\",\n    borderRadius: \"10px\",\n    padding: \"12px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    textAlign: \"center\",\n    boxShadow: \"0 5px 10px rgba(0,0,0,0.19), 0 3px 3px rgba(0,0,0,0.21)\",\n  },\n  form: {\n    margin: \"15px 15px 15px 15px\",\n    borderRadius: \"10px\",\n    padding: \"12px\",\n    display: \"flex\",\n    flexDirection: \"column\",\n    justifyContent: \"center\",\n    textAlign: \"center\",\n  },\n  pos: {\n    marginTop: 20,\n  },\n\n  formControl: {\n    margin: theme.spacing(1),\n    minWidth: 120,\n    maxWidth: 300,\n  },\n  selectEmpty: {\n    marginTop: theme.spacing(2),\n  },\n  bullet: {\n    display: \"inline-block\",\n    margin: \"0 2px\",\n    transform: \"scale(0.8)\",\n  },\n  title: {\n    fontSize: 14,\n  },\n  pos: {\n    marginBottom: 12,\n  },\n  label: {\n    color: \"#000\",\n  },\n\n  textField: {\n    \"& .MuiInputBase-input\": {\n      color: \"#000\",\n    },\n  },\n\n  errMsg: {\n    color: \"red\",\n    fontWeight: \"bold\",\n    fontSize: \"small\",\n    marginBottom: \"10px\",\n    textAlign: \"left\",\n  },\n}));\n\nconst AddUser = (props) => {\n  const [showMobileErr, setMobileErr] = useState(\"\");\n  const [showEmailErr, setEmailErr] = useState(\"\");\n  const [showPassErr, setPassErr] = useState(\"\");\n\n  let location = useLocation();\n  let isEdit = false,\n    state = location.state;\n  if (state && state.user) {\n    // console.log(state.role);\n    isEdit = true;\n  }\n\n  let history = useHistory();\n  const [showSpinner, setShowSpinner] = React.useState(false);\n  const handleReset = () => {\n    window.location.reload();\n  };\n\n  // feild empty err hooks\n  const [showTitleErr, setShowTitleErr] = React.useState(false);\n  const [showDescErr, setShowDescErr] = React.useState(false);\n  const [showLocationErr, setShowLocationErr] = React.useState(false);\n  const [showQualErr, setShowQualErr] = React.useState(false);\n\n  const classes = useStyles();\n  const [expanded, setExpanded] = React.useState(false);\n\n  useEffect(() => {\n    if (isEdit) {\n      console.log(state.user);\n      setApplicant({\n        name: state.user.userName,\n        email: state.user.emailId,\n        phone: state.user.number,\n        role: state.user.role,\n      });\n    }\n  }, []);\n\n  const handleChangex = (panel) => (event, isExpanded) => {\n    setExpanded(isExpanded ? panel : false);\n  };\n\n  //priviledges dialog\n  const [open, setOpen] = React.useState(false);\n\n  const ITEM_HEIGHT = 48;\n  const ITEM_PADDING_TOP = 8;\n\n  const MenuProps = {\n    PaperProps: {\n      style: {\n        maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\n        width: 250,\n        backgroundColor: \"#fff\",\n        color: \"#000\",\n      },\n    },\n  };\n\n  const [applicant, setApplicant] = useState({\n    name: \"\",\n    email: \"\",\n    phone: \"\",\n    password: \"\",\n    role: \"\",\n  });\n\n  const handleClickOpen = () => {\n    setOpen(true);\n  };\n\n  const handleClose = () => {\n    setOpen(false);\n  };\n  const { name, email, password, phone, role } = applicant;\n  const [roles, setRoles] = useState([]);\n\n  useEffect(() => {\n    viewRoleFromServer().then((roles) => {\n      if (roles.status === 200) setRoles(roles.result);\n    });\n  }, []);\n\n  const onChange = (e) => {\n    console.log(e.target.name);\n    setApplicant({ ...applicant, [e.target.name]: e.target.value });\n    switch (e.target.name) {\n      case \"phone\":\n        if (!validatePhone(e.target.value)) {\n          setMobileErr(\"Please Enter Valid Phone number\");\n        } else {\n          setMobileErr(\"\");\n        }\n        break;\n\n      case \"email\":\n        if (!validateEmail(e.target.value)) {\n          setEmailErr(\"Please Enter Valid Email\");\n        } else {\n          setEmailErr(\"\");\n        }\n        break;\n\n      default:\n        break;\n    }\n  };\n\n  const addUserButton = async (e) => {\n    e.preventDefault();\n\n    if (email === \"\" || password === \"\" || name === \"\" || phone === \"\") {\n      alert(\"Please enter all fields\");\n    } else if (showEmailErr !== \"\" || showMobileErr !== \"\") {\n      console.log(\"Email or phone is wrong\");\n      return false;\n    } else {\n      setShowSpinner(true);\n      const res = await addUser({\n        userName: name,\n        emailId: email,\n        number: phone,\n        password: password,\n        role: role,\n      });\n\n      if (res.status === 200) {\n        setShowSpinner(false);\n        swal(\"Success!\", \"User Added\", \"success\").then((value) =>\n          handleReset()\n        );\n      } else {\n        setShowSpinner(false);\n        console.log(res);\n        swal(\"Failed!\", \"Failed to create User. Try Again!!!\", \"error\");\n      }\n    }\n  };\n\n  const editUserButton = async (e) => {\n    e.preventDefault();\n\n    if (email === \"\" || name === \"\" || phone === \"\") {\n      alert(\"Please enter all fields\");\n    } else if (showEmailErr !== \"\" || showMobileErr !== \"\") {\n      console.log(\"Email or phone is wrong\");\n      return false;\n    } else {\n      setShowSpinner(true);\n      const res = await editUserFromServer({\n        id: state.user.id,\n        userName: name,\n        emailId: email,\n        number: phone,\n        role: role,\n      });\n\n      if (res.status === 200) {\n        setShowSpinner(false);\n        swal(\"Success!\", \"User Edit\", \"success\").then((value) =>\n          history.push(\"/view-user\")\n        );\n      } else {\n        setShowSpinner(false);\n        console.log(res);\n        swal(\"Failed!\", \"Failed to edit User. Try Again!!!\", \"error\");\n      }\n    }\n  };\n\n  // email validation\n  const validateEmail = (email) => {\n    const re =\n      /^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$/;\n    return re.test(email);\n  };\n  // phone validation\n  const validatePhone = (mob) => {\n    const re = /^[0-9]{10}$/;\n    return re.test(mob);\n  };\n\n  // custom button\n\n  const ColorButton = withStyles((theme) => ({\n    root: {\n      backgroundColor: \"#FCBF00\",\n      \"&:hover\": {\n        backgroundColor: \"#FCBF00\",\n      },\n    },\n  }))(Button);\n\n  // const classes = useStyles();\n  const bull = <span className={classes.bullet}>•</span>;\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"container mt-5 pt-5\">\n        <div className=\"row align-items-center justify-content-center\">\n          <div className=\"col-12 col-md-6\">\n            <Card className={classes.root} variant=\"outlined\">\n              <CardContent>\n                <Typography variant=\"h5\" component=\"h2\">\n                  {isEdit ? \"Edit User\" : \"Add User\"}\n                </Typography>\n                <form className={classes.form} noValidate autoComplete=\"off\">\n                  <TextField\n                    id=\"outlined-basic\"\n                    label=\"Name*\"\n                    name=\"name\"\n                    variant=\"outlined\"\n                    value={name}\n                    onChange={onChange}\n                    error={showTitleErr}\n                    helperText={showTitleErr && \"Please Enter Name\"}\n                    style={{ marginBottom: \"10px\" }}\n                  />\n                  <TextField\n                    id=\"outlined-basic\"\n                    label=\"Email*\"\n                    name=\"email\"\n                    variant=\"outlined\"\n                    value={email}\n                    onChange={onChange}\n                    error={showDescErr}\n                    helperText={showDescErr && \"Please Enter Email\"}\n                  />\n                  <span className={classes.errMsg}>{showEmailErr}</span>\n                  {!isEdit && (\n                    <>\n                      {\" \"}\n                      <TextField\n                        label=\"Password*\"\n                        name=\"password\"\n                        type=\"password\"\n                        variant=\"outlined\"\n                        onChange={onChange}\n                        error={showDescErr}\n                        helperText={showDescErr && \"Please Enter Email\"}\n                      />\n                      <span className={classes.errMsg}>{showPassErr}</span>\n                    </>\n                  )}\n                  <TextField\n                    variant=\"outlined\"\n                    aria-label=\"empty textarea\"\n                    label=\"Phone*\"\n                    name=\"phone\"\n                    value={phone}\n                    onChange={onChange}\n                    error={showQualErr}\n                    helperText={showQualErr && \"Please Enter Phone\"}\n                  />\n                  <span className={classes.errMsg}>{showMobileErr}</span>\n\n                  <br />\n\n                  <TextField\n                    select\n                    variant=\"outlined\"\n                    label=\"Select Role*\"\n                    name=\"role\"\n                    value={role}\n                    onChange={onChange}\n                    // error={showQualErr}\n                    // helperText={showQualErr && \"Please Enter Phone\"}\n                  >\n                    {roles.map((option) => (\n                      <MenuItem key={option.id} value={option.role}>\n                        {option.role}\n                      </MenuItem>\n                    ))}\n                  </TextField>\n                </form>\n              </CardContent>\n              <div>\n                {showSpinner ? (\n                  <div>\n                    <span style={{ marginLeft: \"10px\", color: \"#ff0000\" }}>\n                      <h5>Please DO NOT REFRESH the page...</h5>\n                    </span>\n                    <CircularProgress\n                      style={{\n                        color: \"#18D26E\",\n                      }}\n                    />\n                  </div>\n                ) : (\n                  <div></div>\n                )}\n              </div>\n              <CardActions\n                style={{ justifyContent: \"center\", fontWeight: \"bold\" }}\n              >\n                <ColorButton\n                  variant=\"contained\"\n                  color=\"primary\"\n                  onClick={(e) => {\n                    if (isEdit) {\n                      editUserButton(e);\n                    } else {\n                      console.log(\"Add User function\");\n                      addUserButton(e);\n                    }\n                  }}\n                >\n                  {isEdit ? \"Edit User\" : \"Add User\"}{\" \"}\n                </ColorButton>\n              </CardActions>\n            </Card>\n          </div>\n        </div>\n      </div>\n    </>\n  );\n};\n\nexport default AddUser;\n"]},"metadata":{},"sourceType":"module"}
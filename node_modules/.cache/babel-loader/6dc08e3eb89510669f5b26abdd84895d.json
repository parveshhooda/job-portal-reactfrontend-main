{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\parve\\\\Desktop\\\\job portal cod\\\\job-portal-react-main\\\\src\\\\components\\\\employer\\\\ViewUsers.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Media } from \"reactstrap\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport CreateIcon from \"@material-ui/icons/Create\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useHistory } from \"react-router-dom\";\nimport Navbar from \"./Navbar\";\nimport { deleteUserFromServer, viewUserFromServer } from \"../../Backend/sendRequestToServer\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst ViewUsers = () => {\n  _s();\n\n  const [blogs, setBlogs] = useState([]);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [searchResult, setSearchResult] = useState([]);\n  let history = useHistory();\n  useEffect(() => {\n    fetchBlogs();\n  }, []);\n  const useStyles = makeStyles(theme => ({\n    button: {\n      margin: theme.spacing(1)\n    }\n  }));\n  const classes = useStyles();\n\n  const handleReset = () => {\n    window.location.reload();\n  };\n\n  function checkIfSalesUser(emp) {\n    const designations = [\"National Sales Head\", \"Regional Sales Head\", \"City Sales Head\", \"Sales Executive\"];\n    return designations.includes(emp.designation);\n  } // custom button\n\n\n  const ColorButton = withStyles(theme => ({\n    root: {\n      backgroundColor: \"#FCBF00\",\n      color: \"white\",\n      fontWeight: \"bold\",\n      \"&:hover\": {\n        backgroundColor: \"#FCBF00\"\n      }\n    }\n  }))(Button);\n\n  const fetchBlogs = async () => {\n    // const obj = {\n    //   id: \"123\",\n    //   name: \"Hr1\",\n    //   email: \"hr1@getnada.com\",\n    //   phone: \"90909090\",\n    //   role: \"Hr\",\n    //   privileges: [\"Add Hr\", \"View Hr\"],\n    // };\n    const res = await viewUserFromServer();\n\n    if (res.status === 200) {\n      console.log({\n        res\n      });\n      setBlogs(res.result);\n    } else setBlogs([]);\n  }; //  Search in textbox\n\n\n  const searchBlogResult = val => {\n    return blogs.filter(data => data.userName.toLowerCase().includes(val.toLowerCase()));\n  };\n\n  const search = e => {\n    setSearchValue(e.target.value);\n    console.log(e.target.value);\n    setSearchResult(searchBlogResult(e.target.value));\n  };\n\n  const editUser = user => {\n    history.push(\"/add-user\", {\n      user\n    });\n  };\n\n  const deleteUser = async id => {\n    const res = await deleteUserFromServer({\n      id\n    });\n\n    if (res.status === 200) {\n      console.log(\"User Deleted\", res.result);\n      window.location.reload();\n    } else {\n      console.log(\"Error Occured\", res);\n    }\n  };\n\n  const prev = JSON.parse(localStorage.getItem(\"previleges\")) || [];\n  const editP = prev.includes(\"Edit User\");\n  const deleteP = prev.includes(\"Delete User\");\n\n  const UserCard = ({\n    blog\n  }) => {\n    return /*#__PURE__*/_jsxDEV(Media, {\n      list: true,\n      className: \"blog-card\",\n      children: /*#__PURE__*/_jsxDEV(Media, {\n        tag: \"li\",\n        children: /*#__PURE__*/_jsxDEV(Media, {\n          body: true,\n          children: [/*#__PURE__*/_jsxDEV(Media, {\n            heading: true,\n            children: blog.userName\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"author-name\",\n            children: [\"Email : \", blog.emailId]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 113,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Phone: \", blog.number]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 114,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Role: \", blog.role]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"view-edit\",\n            children: [editP && /*#__PURE__*/_jsxDEV(IconButton, {\n              \"aria-label\": \"edit\",\n              id: blog.id,\n              onClick: e => {\n                console.log(\"Edit User\");\n                editUser(blog);\n              },\n              children: /*#__PURE__*/_jsxDEV(CreateIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 128,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 120,\n              columnNumber: 17\n            }, this), deleteP && /*#__PURE__*/_jsxDEV(IconButton, {\n              \"aria-label\": \"delete\",\n              id: blog.id,\n              onClick: e => {\n                console.log(\"delete User\");\n                deleteUser(blog.id);\n              },\n              children: /*#__PURE__*/_jsxDEV(DeleteIcon, {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 140,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 132,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 111,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 9\n      }, this)\n    }, blog.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 7\n    }, this);\n  };\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container mt-5 pt-5\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        style: {\n          textAlign: \"center\"\n        },\n        children: \"View User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row pb-3 justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          className: \"col-10 col-md-6 search-box\",\n          placeholder: \"Search User\",\n          onChange: e => {\n            search(e);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 155,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 9\n      }, this), blogs.length === 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row justify-content-center\",\n        children: /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"No User's yet!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: blogs.length > 0 && searchValue === \"\" ? blogs.map(blog => {\n          return /*#__PURE__*/_jsxDEV(UserCard, {\n            blog: blog\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 24\n          }, this);\n        }) : /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: searchResult.length > 0 ? searchResult.map(blog => {\n            return /*#__PURE__*/_jsxDEV(UserCard, {\n              blog: blog\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 28\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: searchValue !== \"\" ? /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"row pb-3 justify-content-center\",\n              children: /*#__PURE__*/_jsxDEV(\"div\", {\n                children: \"Search Not Found!\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 184,\n                columnNumber: 25\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 183,\n              columnNumber: 23\n            }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 23\n            }, this)\n          }, void 0, false)\n        }, void 0, false)\n      }, void 0, false)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(ViewUsers, \"w9jaw8zc8UhydGIsf269Z4N1CXE=\", true, function () {\n  return [useHistory];\n});\n\n_c = ViewUsers;\nexport default ViewUsers;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewUsers\");","map":{"version":3,"sources":["C:/Users/parve/Desktop/job portal cod/job-portal-react-main/src/components/employer/ViewUsers.jsx"],"names":["React","useEffect","useState","Media","withStyles","Button","IconButton","DeleteIcon","CreateIcon","makeStyles","useHistory","Navbar","deleteUserFromServer","viewUserFromServer","ViewUsers","blogs","setBlogs","searchValue","setSearchValue","searchResult","setSearchResult","history","fetchBlogs","useStyles","theme","button","margin","spacing","classes","handleReset","window","location","reload","checkIfSalesUser","emp","designations","includes","designation","ColorButton","root","backgroundColor","color","fontWeight","res","status","console","log","result","searchBlogResult","val","filter","data","userName","toLowerCase","search","e","target","value","editUser","user","push","deleteUser","id","prev","JSON","parse","localStorage","getItem","editP","deleteP","UserCard","blog","emailId","number","role","textAlign","length","map"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Media } from \"reactstrap\";\nimport { withStyles } from \"@material-ui/core/styles\";\nimport Button from \"@material-ui/core/Button\";\nimport IconButton from \"@material-ui/core/IconButton\";\nimport DeleteIcon from \"@material-ui/icons/Delete\";\nimport CreateIcon from \"@material-ui/icons/Create\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport { useHistory } from \"react-router-dom\";\nimport Navbar from \"./Navbar\";\nimport {\n  deleteUserFromServer,\n  viewUserFromServer,\n} from \"../../Backend/sendRequestToServer\";\n\nconst ViewUsers = () => {\n  const [blogs, setBlogs] = useState([]);\n  const [searchValue, setSearchValue] = useState(\"\");\n  const [searchResult, setSearchResult] = useState([]);\n\n  let history = useHistory();\n\n  useEffect(() => {\n    fetchBlogs();\n  }, []);\n\n  const useStyles = makeStyles((theme) => ({\n    button: {\n      margin: theme.spacing(1),\n    },\n  }));\n  const classes = useStyles();\n\n  const handleReset = () => {\n    window.location.reload();\n  };\n\n  function checkIfSalesUser(emp) {\n    const designations = [\n      \"National Sales Head\",\n      \"Regional Sales Head\",\n      \"City Sales Head\",\n      \"Sales Executive\",\n    ];\n    return designations.includes(emp.designation);\n  }\n\n  // custom button\n\n  const ColorButton = withStyles((theme) => ({\n    root: {\n      backgroundColor: \"#FCBF00\",\n      color: \"white\",\n      fontWeight: \"bold\",\n      \"&:hover\": {\n        backgroundColor: \"#FCBF00\",\n      },\n    },\n  }))(Button);\n\n  const fetchBlogs = async () => {\n    // const obj = {\n    //   id: \"123\",\n    //   name: \"Hr1\",\n    //   email: \"hr1@getnada.com\",\n    //   phone: \"90909090\",\n    //   role: \"Hr\",\n    //   privileges: [\"Add Hr\", \"View Hr\"],\n    // };\n    const res = await viewUserFromServer();\n    if (res.status === 200) {\n      console.log({ res });\n      setBlogs(res.result);\n    } else setBlogs([]);\n  };\n\n  //  Search in textbox\n  const searchBlogResult = (val) => {\n    return blogs.filter((data) =>\n      data.userName.toLowerCase().includes(val.toLowerCase())\n    );\n  };\n  const search = (e) => {\n    setSearchValue(e.target.value);\n    console.log(e.target.value);\n\n    setSearchResult(searchBlogResult(e.target.value));\n  };\n\n  const editUser = (user) => {\n    history.push(\"/add-user\", { user });\n  };\n\n  const deleteUser = async (id) => {\n    const res = await deleteUserFromServer({ id });\n    if (res.status === 200) {\n      console.log(\"User Deleted\", res.result);\n      window.location.reload();\n    } else {\n      console.log(\"Error Occured\", res);\n    }\n  };\n  const prev = JSON.parse(localStorage.getItem(\"previleges\")) || [];\n  const editP = prev.includes(\"Edit User\");\n  const deleteP = prev.includes(\"Delete User\");\n\n  const UserCard = ({ blog }) => {\n    return (\n      <Media list key={blog.id} className=\"blog-card\">\n        <Media tag=\"li\">\n          <Media body>\n            <Media heading>{blog.userName}</Media>\n            <p className=\"author-name\">Email : {blog.emailId}</p>\n            <p>Phone: {blog.number}</p>\n            {/* <p>Designation: {blog.designation}</p> */}\n            <p>Role: {blog.role}</p>\n\n            <p className=\"view-edit\">\n              {editP && (\n                <IconButton\n                  aria-label=\"edit\"\n                  id={blog.id}\n                  onClick={(e) => {\n                    console.log(\"Edit User\");\n                    editUser(blog);\n                  }}\n                >\n                  <CreateIcon />\n                </IconButton>\n              )}\n              {deleteP && (\n                <IconButton\n                  aria-label=\"delete\"\n                  id={blog.id}\n                  onClick={(e) => {\n                    console.log(\"delete User\");\n                    deleteUser(blog.id);\n                  }}\n                >\n                  <DeleteIcon />\n                </IconButton>\n              )}\n            </p>\n          </Media>\n        </Media>\n      </Media>\n    );\n  };\n  return (\n    <>\n      <Navbar />\n      <div className=\"container mt-5 pt-5\">\n        <h2 style={{ textAlign: \"center\" }}>View User</h2>\n        <div className=\"row pb-3 justify-content-center\">\n          <input\n            type=\"text\"\n            className=\"col-10 col-md-6 search-box\"\n            placeholder=\"Search User\"\n            onChange={(e) => {\n              search(e);\n            }}\n          />\n        </div>\n        {blogs.length === 0 ? (\n          <div className=\"row justify-content-center\">\n            <p>No User's yet!</p>\n          </div>\n        ) : (\n          <>\n            {blogs.length > 0 && searchValue === \"\" ? (\n              blogs.map((blog) => {\n                return <UserCard blog={blog} />;\n              })\n            ) : (\n              <>\n                {searchResult.length > 0 ? (\n                  searchResult.map((blog) => {\n                    return <UserCard blog={blog} />;\n                  })\n                ) : (\n                  <>\n                    {searchValue !== \"\" ? (\n                      <div className=\"row pb-3 justify-content-center\">\n                        <div>Search Not Found!</div>\n                      </div>\n                    ) : (\n                      <div></div>\n                    )}\n                  </>\n                )}\n              </>\n            )}\n          </>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default ViewUsers;\n"]},"metadata":{},"sourceType":"module"}
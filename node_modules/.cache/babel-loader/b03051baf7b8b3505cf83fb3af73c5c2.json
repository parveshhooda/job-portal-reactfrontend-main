{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/parve/Desktop/job portal cod/job-portal-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _createForOfIteratorHelper from\"C:/Users/parve/Desktop/job portal cod/job-portal-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _asyncToGenerator from\"C:/Users/parve/Desktop/job portal cod/job-portal-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/parve/Desktop/job portal cod/job-portal-react-main/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from\"react\";import{viewAppliedJobFromServer,viewUserFromServer}from\"../../Backend/sendRequestToServer\";import{useAuth}from\"../../contexts/AuthContext\";//components\nimport Candidates from\"./Candidates\";import Navbar from\"./Navbar\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ViewCandidates(){var _useAuth=useAuth(),currentUser=_useAuth.currentUser;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),appliedjobList=_useState2[0],setappliedJobList=_useState2[1];useEffect(function(){getAppliedJobs();},[]);function getAppliedJobs(){return _getAppliedJobs.apply(this,arguments);}function _getAppliedJobs(){_getAppliedJobs=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var users,res,_iterator,_step,_user$resumeUrl,user,jobList,tempJobs,_iterator2,_step2,_users$job$email,job;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:users={};_context.next=3;return viewUserFromServer();case 3:res=_context.sent;if(res.status===200){_iterator=_createForOfIteratorHelper(res.result);try{for(_iterator.s();!(_step=_iterator.n()).done;){user=_step.value;users[user.emailId]=(_user$resumeUrl=user.resumeUrl)!==null&&_user$resumeUrl!==void 0?_user$resumeUrl:\"\";}}catch(err){_iterator.e(err);}finally{_iterator.f();}console.log(res.result);}_context.next=7;return viewAppliedJobFromServer();case 7:jobList=_context.sent;if(jobList.status===200){tempJobs=[];_iterator2=_createForOfIteratorHelper(jobList.result);try{for(_iterator2.s();!(_step2=_iterator2.n()).done;){job=_step2.value;job.resumeUrl=(_users$job$email=users[job.email])!==null&&_users$job$email!==void 0?_users$job$email:\"\";tempJobs.push(job);}}catch(err){_iterator2.e(err);}finally{_iterator2.f();}if(currentUser.role===\"Super Admin\")setappliedJobList(tempJobs);else setappliedJobList(tempJobs.filter(function(job){return job.employerEmail===currentUser.emailId;}));}case 9:case\"end\":return _context.stop();}}},_callee);}));return _getAppliedJobs.apply(this,arguments);}console.log(appliedjobList);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navbar,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"container p-3\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"mt-3 mb-2 text-center\",children:\"View Applied Candidates\"}),\" \",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"row m-0\",children:appliedjobList?appliedjobList.map(function(appliedjob,index){return/*#__PURE__*/_jsx(Candidates,{appliedjob:appliedjob},index);}):\"\"})]})]});}","map":{"version":3,"sources":["C:/Users/parve/Desktop/job portal cod/job-portal-react-main/src/components/employer/ViewCandidates.jsx"],"names":["React","useState","useEffect","viewAppliedJobFromServer","viewUserFromServer","useAuth","Candidates","Navbar","ViewCandidates","currentUser","appliedjobList","setappliedJobList","getAppliedJobs","users","res","status","result","user","emailId","resumeUrl","console","log","jobList","tempJobs","job","email","push","role","filter","employerEmail","map","appliedjob","index"],"mappings":"6tBAAA,MAAOA,CAAAA,KAAP,EAAgBC,QAAhB,CAA0BC,SAA1B,KAA2C,OAA3C,CACA,OACEC,wBADF,CAEEC,kBAFF,KAGO,mCAHP,CAIA,OAASC,OAAT,KAAwB,4BAAxB,CAEA;AACA,MAAOC,CAAAA,UAAP,KAAuB,cAAvB,CACA,MAAOC,CAAAA,MAAP,KAAmB,UAAnB,C,6IAEA,cAAe,SAASC,CAAAA,cAAT,EAA0B,CACvC,aAAwBH,OAAO,EAA/B,CAAQI,WAAR,UAAQA,WAAR,CAEA,cAA4CR,QAAQ,CAAC,EAAD,CAApD,wCAAOS,cAAP,eAAuBC,iBAAvB,eAEAT,SAAS,CAAC,UAAM,CACdU,cAAc,GACf,CAFQ,CAEN,EAFM,CAAT,CALuC,QASxBA,CAAAA,cATwB,oJASvC,8OACMC,KADN,CACc,EADd,uBAEoBT,CAAAA,kBAAkB,EAFtC,QAEQU,GAFR,eAGE,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAnB,CAAwB,sCACLD,GAAG,CAACE,MADC,MACtB,+CAA6B,CAApBC,IAAoB,aAC3BJ,KAAK,CAACI,IAAI,CAACC,OAAN,CAAL,kBAAsBD,IAAI,CAACE,SAA3B,mDAAwC,EAAxC,CACD,CAHqB,qDAItBC,OAAO,CAACC,GAAR,CAAYP,GAAG,CAACE,MAAhB,EACD,CARH,sBAUsBb,CAAAA,wBAAwB,EAV9C,QAUMmB,OAVN,eAYE,GAAIA,OAAO,CAACP,MAAR,GAAmB,GAAvB,CAA4B,CACtBQ,QADsB,CACX,EADW,uCAEVD,OAAO,CAACN,MAFE,MAE1B,kDAAgC,CAAvBQ,GAAuB,cAC9BA,GAAG,CAACL,SAAJ,mBAAgBN,KAAK,CAACW,GAAG,CAACC,KAAL,CAArB,qDAAoC,EAApC,CACAF,QAAQ,CAACG,IAAT,CAAcF,GAAd,EACD,CALyB,uDAM1B,GAAIf,WAAW,CAACkB,IAAZ,GAAqB,aAAzB,CAAwChB,iBAAiB,CAACY,QAAD,CAAjB,CAAxC,IAEEZ,CAAAA,iBAAiB,CACfY,QAAQ,CAACK,MAAT,CAAgB,SAACJ,GAAD,QAASA,CAAAA,GAAG,CAACK,aAAJ,GAAsBpB,WAAW,CAACS,OAA3C,EAAhB,CADe,CAAjB,CAGH,CAvBH,sDATuC,iDAmCvCE,OAAO,CAACC,GAAR,CAAYX,cAAZ,EAEA,mBACE,wCACE,KAAC,MAAD,IADF,cAEE,aAAK,SAAS,CAAC,eAAf,wBACE,WAAI,SAAS,CAAC,uBAAd,qCADF,CACqE,GADrE,cAEE,aAFF,cAGE,YAAK,SAAS,CAAC,SAAf,UACGA,cAAc,CACXA,cAAc,CAACoB,GAAf,CAAmB,SAACC,UAAD,CAAaC,KAAb,qBACjB,KAAC,UAAD,EAAY,UAAU,CAAED,UAAxB,EAAyCC,KAAzC,CADiB,EAAnB,CADW,CAIX,EALN,EAHF,GAFF,GADF,CAgBD","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  viewAppliedJobFromServer,\n  viewUserFromServer,\n} from \"../../Backend/sendRequestToServer\";\nimport { useAuth } from \"../../contexts/AuthContext\";\n\n//components\nimport Candidates from \"./Candidates\";\nimport Navbar from \"./Navbar\";\n\nexport default function ViewCandidates() {\n  const { currentUser } = useAuth();\n\n  const [appliedjobList, setappliedJobList] = useState(\"\");\n\n  useEffect(() => {\n    getAppliedJobs();\n  }, []);\n\n  async function getAppliedJobs() {\n    let users = {};\n    const res = await viewUserFromServer();\n    if (res.status === 200) {\n      for (let user of res.result) {\n        users[user.emailId] = user.resumeUrl ?? \"\";\n      }\n      console.log(res.result);\n    }\n\n    let jobList = await viewAppliedJobFromServer();\n\n    if (jobList.status === 200) {\n      let tempJobs = [];\n      for (let job of jobList.result) {\n        job.resumeUrl = users[job.email] ?? \"\";\n        tempJobs.push(job);\n      }\n      if (currentUser.role === \"Super Admin\") setappliedJobList(tempJobs);\n      else\n        setappliedJobList(\n          tempJobs.filter((job) => job.employerEmail === currentUser.emailId)\n        );\n    }\n  }\n\n  console.log(appliedjobList);\n\n  return (\n    <>\n      <Navbar />\n      <div className=\"container p-3\">\n        <h3 className=\"mt-3 mb-2 text-center\">View Applied Candidates</h3>{\" \"}\n        <br />\n        <div className=\"row m-0\">\n          {appliedjobList\n            ? appliedjobList.map((appliedjob, index) => (\n                <Candidates appliedjob={appliedjob} key={index} />\n              ))\n            : \"\"}\n        </div>\n      </div>\n    </>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}
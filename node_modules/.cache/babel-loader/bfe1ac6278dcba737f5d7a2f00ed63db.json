{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\parve\\\\Desktop\\\\job portal cod\\\\job-portal-react-main\\\\src\\\\components\\\\applicant\\\\ApplicantSignup.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport styled from \"styled-components\";\nimport swal from \"sweetalert\";\nimport firebase from \"firebase/app\";\nimport \"firebase/storage\"; //material UI\n\nimport { TextField, Button, Divider } from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { addUser } from \"../../Backend/sendRequestToServer\";\nimport \"./signup.css\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nexport default function ApplicantSignup() {\n  _s();\n\n  const [email, setEmail] = useState();\n  const [name, setName] = useState();\n  const [phone, setPhone] = useState();\n  const [password, setPassword] = useState();\n  const [confPassword, setConfPassword] = useState();\n  const [resume, setResume] = useState();\n  const [fileChosen, setFileChosen] = useState(\"No file chosen\");\n  const {\n    signup\n  } = useAuth();\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n  const storage = firebase.storage();\n\n  function handleFileChange(e) {\n    setResume(e.target.files[0]);\n    setFileChosen(e.target.files[0].name);\n  }\n\n  async function uploadResume() {\n    const uploadTask = storage.ref(`resume/${email}-${fileChosen}`).put(resume);\n    const url = await (await uploadTask).ref.getDownloadURL();\n    return url;\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    if (password !== confPassword) {\n      return setError(\"Passwords do not match\");\n    }\n\n    if (!resume) {\n      return setError(\"Upload Resume\");\n    }\n\n    try {\n      setError(\"\");\n      setLoading(true);\n      const downloadUrl = await uploadResume();\n      console.log(downloadUrl); // await signup(email, password);\n\n      const res = await addUser({\n        userName: name,\n        emailId: email,\n        number: phone,\n        password: password,\n        role: \"Candidate\",\n        resumeUrl: downloadUrl\n      });\n\n      if (res.status === 200) {\n        setLoading(false);\n        history.push(\"/applicant-login\");\n      } else {\n        setLoading(false);\n        console.log(res);\n        swal(\"Failed!\", \"Failed to create User. Try Again!!!\", \"error\");\n      } // history.push(\"/employee-login\");\n\n    } catch {\n      setError(\"Failed to create an account\");\n    }\n\n    setLoading(false);\n  }\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Parent, {\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"row\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6\",\n          children: /*#__PURE__*/_jsxDEV(FormStyle, {\n            children: [error ? /*#__PURE__*/_jsxDEV(Alert, {\n              severity: \"error\",\n              children: error\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 24\n            }, this) : \"\", /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"mb-4 mt-2\",\n              children: \"Applicant Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 93,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 mt-3\",\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                type: \"text\",\n                id: \"name\",\n                label: \"Enter Name\",\n                variant: \"outlined\",\n                color: \"primary\",\n                fullWidth: true,\n                size: \"small\",\n                onChange: e => setName(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 95,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 94,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 mt-3\",\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                type: \"text\",\n                id: \"phone\",\n                label: \"Enter Phone no\",\n                variant: \"outlined\",\n                color: \"primary\",\n                fullWidth: true,\n                size: \"small\",\n                onChange: e => setPhone(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-3 mt-3\",\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                type: \"text\",\n                id: \"email\",\n                label: \"Enter Email\",\n                variant: \"outlined\",\n                color: \"primary\",\n                fullWidth: true,\n                size: \"small\",\n                onChange: e => setEmail(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 119,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 118,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3 mb-3\",\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                type: \"password\",\n                id: \"password\",\n                label: \"Enter Password\",\n                variant: \"outlined\",\n                color: \"primary\",\n                fullWidth: true,\n                size: \"small\",\n                onChange: e => setPassword(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3 mb-3\",\n              children: /*#__PURE__*/_jsxDEV(TextField, {\n                type: \"password\",\n                id: \"confpassword\",\n                label: \"Confirm Password\",\n                variant: \"outlined\",\n                color: \"primary\",\n                fullWidth: true,\n                size: \"small\",\n                onChange: e => setConfPassword(e.target.value)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 143,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mt-3 mb-3\",\n              children: [\"Upload Resume\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                accept: \".pdf\",\n                type: \"file\",\n                id: \"actual-btn\",\n                hidden: true,\n                onChange: handleFileChange\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 158,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                id: \"upload-label\",\n                for: \"actual-btn\",\n                children: \"Choose File\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 165,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                id: \"file-chosen\",\n                children: fileChosen\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 155,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Button, {\n              className: \"mb-3 mt-3\",\n              disabled: loading,\n              variant: \"contained\",\n              color: \"primary\",\n              onClick: handleSubmit,\n              children: \"Sign Up\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 170,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(Divider, {\n              light: true\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 179,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"small text-muted mt-2 mb-2\",\n              children: [\"Already have an account?\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/applicant-login\",\n                className: \"font-weight-bold\",\n                children: \"Log In\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 183,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 181,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"small text-muted\",\n              children: [\"Login as\", \" \", /*#__PURE__*/_jsxDEV(Link, {\n                to: \"/employer-login\",\n                className: \"font-weight-bold\",\n                children: \"Employer\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 189,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 187,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"col-md-6 overflow-hidden\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            className: \"img-fluid \",\n            src: \"/images/employee.svg\",\n            alt: \"\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 212,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 211,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this)\n  }, void 0, false);\n}\n\n_s(ApplicantSignup, \"H6JBQ35rjYVI8w2VjjnJzsuUmgk=\", false, function () {\n  return [useAuth, useHistory];\n});\n\n_c = ApplicantSignup;\nconst Parent = styled.div`\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n_c2 = Parent;\nconst FormStyle = styled.div`\n  max-width: 500px;\n  /* background-color: aqua; */\n  padding: 1rem;\n`;\n_c3 = FormStyle;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"ApplicantSignup\");\n$RefreshReg$(_c2, \"Parent\");\n$RefreshReg$(_c3, \"FormStyle\");","map":{"version":3,"sources":["C:/Users/parve/Desktop/job portal cod/job-portal-react-main/src/components/applicant/ApplicantSignup.jsx"],"names":["React","useState","Link","useHistory","useAuth","styled","swal","firebase","TextField","Button","Divider","Alert","addUser","ApplicantSignup","email","setEmail","name","setName","phone","setPhone","password","setPassword","confPassword","setConfPassword","resume","setResume","fileChosen","setFileChosen","signup","error","setError","loading","setLoading","history","storage","handleFileChange","e","target","files","uploadResume","uploadTask","ref","put","url","getDownloadURL","handleSubmit","preventDefault","downloadUrl","console","log","res","userName","emailId","number","role","resumeUrl","status","push","value","Parent","div","FormStyle"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\nimport { Link, useHistory } from \"react-router-dom\";\nimport { useAuth } from \"../../contexts/AuthContext\";\nimport styled from \"styled-components\";\nimport swal from \"sweetalert\";\nimport firebase from \"firebase/app\";\nimport \"firebase/storage\";\n\n//material UI\nimport { TextField, Button, Divider } from \"@material-ui/core\";\nimport Alert from \"@material-ui/lab/Alert\";\nimport { addUser } from \"../../Backend/sendRequestToServer\";\nimport \"./signup.css\";\n\nexport default function ApplicantSignup() {\n  const [email, setEmail] = useState();\n  const [name, setName] = useState();\n  const [phone, setPhone] = useState();\n  const [password, setPassword] = useState();\n  const [confPassword, setConfPassword] = useState();\n  const [resume, setResume] = useState();\n  const [fileChosen, setFileChosen] = useState(\"No file chosen\");\n\n  const { signup } = useAuth();\n  const [error, setError] = useState(\"\");\n  const [loading, setLoading] = useState(false);\n  const history = useHistory();\n\n  const storage = firebase.storage();\n\n  function handleFileChange(e) {\n    setResume(e.target.files[0]);\n    setFileChosen(e.target.files[0].name);\n  }\n\n  async function uploadResume() {\n    const uploadTask = storage.ref(`resume/${email}-${fileChosen}`).put(resume);\n    const url = await (await uploadTask).ref.getDownloadURL();\n    return url;\n  }\n\n  async function handleSubmit(e) {\n    e.preventDefault();\n\n    if (password !== confPassword) {\n      return setError(\"Passwords do not match\");\n    }\n\n    if (!resume) {\n      return setError(\"Upload Resume\");\n    }\n\n    try {\n      setError(\"\");\n      setLoading(true);\n\n      const downloadUrl = await uploadResume();\n      console.log(downloadUrl);\n      // await signup(email, password);\n      const res = await addUser({\n        userName: name,\n        emailId: email,\n        number: phone,\n        password: password,\n        role: \"Candidate\",\n        resumeUrl: downloadUrl,\n      });\n\n      if (res.status === 200) {\n        setLoading(false);\n        history.push(\"/applicant-login\");\n      } else {\n        setLoading(false);\n        console.log(res);\n        swal(\"Failed!\", \"Failed to create User. Try Again!!!\", \"error\");\n      }\n\n      // history.push(\"/employee-login\");\n    } catch {\n      setError(\"Failed to create an account\");\n    }\n\n    setLoading(false);\n  }\n\n  return (\n    <>\n      <Parent>\n        <div className=\"row\">\n          <div className=\"col-md-6\">\n            <FormStyle>\n              {error ? <Alert severity=\"error\">{error}</Alert> : \"\"}\n              <h3 className=\"mb-4 mt-2\">Applicant Sign Up</h3>\n              <div className=\"mb-3 mt-3\">\n                <TextField\n                  type=\"text\"\n                  id=\"name\"\n                  label=\"Enter Name\"\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  fullWidth\n                  size=\"small\"\n                  onChange={(e) => setName(e.target.value)}\n                />\n              </div>\n              <div className=\"mb-3 mt-3\">\n                <TextField\n                  type=\"text\"\n                  id=\"phone\"\n                  label=\"Enter Phone no\"\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  fullWidth\n                  size=\"small\"\n                  onChange={(e) => setPhone(e.target.value)}\n                />\n              </div>\n              <div className=\"mb-3 mt-3\">\n                <TextField\n                  type=\"text\"\n                  id=\"email\"\n                  label=\"Enter Email\"\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  fullWidth\n                  size=\"small\"\n                  onChange={(e) => setEmail(e.target.value)}\n                />\n              </div>\n              <div className=\"mt-3 mb-3\">\n                <TextField\n                  type=\"password\"\n                  id=\"password\"\n                  label=\"Enter Password\"\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  fullWidth\n                  size=\"small\"\n                  onChange={(e) => setPassword(e.target.value)}\n                />\n              </div>\n              <div className=\"mt-3 mb-3\">\n                <TextField\n                  type=\"password\"\n                  id=\"confpassword\"\n                  label=\"Confirm Password\"\n                  variant=\"outlined\"\n                  color=\"primary\"\n                  fullWidth\n                  size=\"small\"\n                  onChange={(e) => setConfPassword(e.target.value)}\n                />\n              </div>\n\n              <div className=\"mt-3 mb-3\">\n                Upload Resume\n                <br />\n                <input\n                  accept=\".pdf\"\n                  type=\"file\"\n                  id=\"actual-btn\"\n                  hidden\n                  onChange={handleFileChange}\n                />\n                <label id=\"upload-label\" for=\"actual-btn\">\n                  Choose File\n                </label>\n                <span id=\"file-chosen\">{fileChosen}</span>\n              </div>\n              <Button\n                className=\"mb-3 mt-3\"\n                disabled={loading}\n                variant=\"contained\"\n                color=\"primary\"\n                onClick={handleSubmit}\n              >\n                Sign Up\n              </Button>\n              <Divider light />\n\n              <div className=\"small text-muted mt-2 mb-2\">\n                Already have an account?{\" \"}\n                <Link to=\"/applicant-login\" className=\"font-weight-bold\">\n                  Log In\n                </Link>\n              </div>\n              <div className=\"small text-muted\">\n                Login as{\" \"}\n                <Link to=\"/employer-login\" className=\"font-weight-bold\">\n                  Employer\n                </Link>\n              </div>\n              {/* <form onSubmit={handleSubmit}>\n            <input type=\"text\" placeholder=\"email\" ref={emailRef} id=\"email\" />\n            <input\n              type=\"password\"\n              placeholder=\"password\"\n              ref={passwordRef}\n              id=\"password\"\n            />\n            <input\n              type=\"password\"\n              placeholder=\"confirm password\"\n              ref={passwordConfirmRef}\n              id=\"password-confirm\"\n            />\n            <button disabled={loading}>Sign Up</button>\n          </form> */}\n            </FormStyle>\n          </div>\n          <div className=\"col-md-6 overflow-hidden\">\n            <img className=\"img-fluid \" src=\"/images/employee.svg\" alt=\"\" />\n          </div>\n        </div>\n      </Parent>\n    </>\n  );\n}\n\nconst Parent = styled.div`\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst FormStyle = styled.div`\n  max-width: 500px;\n  /* background-color: aqua; */\n  padding: 1rem;\n`;\n"]},"metadata":{},"sourceType":"module"}